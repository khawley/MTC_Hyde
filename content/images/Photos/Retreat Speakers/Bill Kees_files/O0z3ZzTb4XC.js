/*1347291033,178142559*/

if (window.CavalryLogger) { CavalryLogger.start_js(["EqfmM"]); }

function search_selector_onfound(a){var b;if(!(b=ge('n')))return;b.value=a?a.i:-1;}function search_result_selector_onsubmit(a){$('search').init.value=ge('filter_init')?$('filter_init').value:'';$('search').sf.value=ge('filter_sf')?$('filter_sf').value:'';$('search').submit();this.hide();this.advance_focus();}function search_logged_ajax(a){new AsyncRequest().setURI('/ajax/search_log.php').setMethod('POST').setData(a).send();}var SearchDashboardKeyboardHandler=function(){return {right_arrow_key_handler:function(event,a){if(event.ctrlKey){if($('search_dashboard_next_session').href)goURI($('search_dashboard_next_session').href);}else if($('search_dashboard_next_query').href)goURI($('search_dashboard_next_query').href);return false;},left_arrow_key_handler:function(event,a){if(event.ctrlKey){if($('search_dashboard_prev_session').href)goURI($('search_dashboard_prev_session').href);}else if($('search_dashboard_prev_query').href)goURI($('search_dashboard_prev_query').href);return false;},right_arrow_key_filter:function(event,a){return true;}};}();
var SpellCheck={logHandler:function(event){var a=Parent.byClass(event.getTarget(),'search_spell_suggestion');if(a)search_logged_ajax(JSON.parse(DataStore.get(a,'loginfo')));}};
function UIIntentionalStreamSearch(a,b,c,d,e,f){copyProperties(this,{searchSessionId:e,extraSearchParams:f});this.scrollOnPrepend=true;this.parent.construct(this,a,b,c,d);}UIIntentionalStreamSearch.prototype.getValidParams=function(){return UIIntentionalStreamSearch.VALID_PARAMS;};UIIntentionalStreamSearch.prototype.getEndpoint=function(){return UIIntentionalStreamSearch.ENDPOINT;};UIIntentionalStreamSearch.prototype.refresh=function(a,b,c){b.sessionId=this.searchSessionId;this.parent.refresh(a,b,c);};UIIntentionalStreamSearch.prototype.getCurrentParams=function(){params=this.parent.getCurrentParams();copyProperties(params,this.extraSearchParams);return params;};Class.extend(UIIntentionalStreamSearch,'UIIntentionalStream');copyProperties(UIIntentionalStreamSearch,{VALID_PARAMS:null,ENDPOINT:'/ajax/stream/search.php'});