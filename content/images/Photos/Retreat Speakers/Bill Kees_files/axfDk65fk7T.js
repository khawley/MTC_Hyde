/*1349662276,178142511*/

if (window.CavalryLogger) { CavalryLogger.start_js(["\/GiLa"]); }

__d("TickerReadStateTracking",["event-extensions","Style","clickRefAction"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Style'),h=b('clickRefAction'),i=73,j='ticker_hover',k=[];function l(n){var o=JSON.parse(n.getAttribute('data-ft'));if(!o)return null;if(o.mf_story_key)return o.mf_story_key;if(o.fbid)return o.fbid;return null;}function m(n){var o=l(n);if(!o||o in k)return;k[o]=true;var p={evt:i};h(j,n,null,'FORCE',{ft:p});}e.exports.log=m;});
__d("TickerController",["event-extensions","Animation","Arbiter","AsyncRequest","AsyncSignal","Bootloader","ChannelConstants","ContextualDialogX","CSS","DOM","HTML","JSLogger","Keys","LayerFadeOnHide","LiveTimer","NavigationMessage","Parent","Run","ScrollableArea","Selector","Style","TickerReadStateTracking","Toggler","UIPagelet","URI","UserActivity","UserAgent","Vector","$","clickRefAction","collectDataAttributes","copyProperties","emptyFunction","ge","goURI","throttle","userAction"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Animation'),h=b('Arbiter'),i=b('AsyncRequest'),j=b('AsyncSignal'),k=b('Bootloader'),l=b('ChannelConstants'),m=b('ContextualDialogX'),n=b('CSS'),o=b('DOM'),p=b('HTML'),q=b('JSLogger'),r=b('Keys'),s=b('LayerFadeOnHide'),t=b('LiveTimer'),u=b('NavigationMessage'),v=b('Parent'),w=b('Run'),x=b('ScrollableArea'),y=b('Selector'),z=b('Style'),aa=b('TickerReadStateTracking'),ba=b('Toggler'),ca=b('UIPagelet'),da=b('URI'),ea=b('UserActivity'),fa=b('UserAgent'),ga=b('Vector'),ha=b('$'),ia=b('clickRefAction'),ja=b('collectDataAttributes'),ka=b('copyProperties'),la=b('emptyFunction'),ma=b('ge'),na=b('goURI'),oa=b('throttle'),pa=b('userAction'),qa=1,ra=2,sa=3,ta=4,ua=q.create('ticker_controller');function va(){}ka(va,{_instances:{},_activeInstance:null,_placeholders:{},_logPositionChange:false,getInstance:function(wa){var xa=v.byClass(ha(wa),'fbFeedTicker');return xa?va._instances[xa.id]:null;},isLoaded:function(wa){var xa=va._placeholders[wa.id];return !xa||xa.status==sa;},show:function(wa,xa){xa=xa||la;for(var ya in va._instances){var za=ma(ya);if(!za||za.parentNode.id==wa.id)continue;va.hide(za.parentNode);}va._doPositionChange(wa);n.show(wa);var ab=va._placeholders[wa.id];if(ab&&ab.status==qa){va._fetchTickerForPlaceholder(wa,xa);}else{var bb=o.scry(wa,'.fbFeedTicker')[0],cb=bb&&va.getInstance(bb);va._activeInstance=cb;cb&&cb._poll();va._placeholders[wa.id]={status:ta,callback:xa};xa();}},_doPositionChange:function(wa){if(!va._logPositionChange||n.shown(wa))return;new j('/common/ods_endpoint.php',{k:'ticker.render.switch.'+wa.id}).send();},hide:function(wa){var xa=o.scry(wa,'.fbFeedTicker')[0],ya=xa&&va.getInstance(xa);ya&&ya.hideActiveStory();n.hide(wa);},hideStoriesByClass:function(wa){for(var xa in va._instances)o.scry(ha(xa),wa).forEach(n.hide);},hideStory:function(wa){var xa=wa&&va.getInstance(wa);xa&&xa.hideStory(wa);},undoHideStory:function(wa){var xa=wa&&va.getInstance(wa);xa&&xa.undoHideStory(wa);},insertStoriesAtBottom:function(wa){va._activeInstance.insertStoriesAtBottom(wa);},_fetchTickerForPlaceholder:function(wa,xa){var ya={handler:function(){va._placeholders[wa.id].status=sa;xa();}};ca.loadFromEndpoint('TickerPagelet',wa.id,va._placeholders[wa.id].pageletData,ya);va._placeholders[wa.id].status=ra;},registerStoryDialog:function(wa,xa){h.subscribe('ticker/init',function(){var ya=ma(wa),za=ya&&va.getInstance(ya);za&&za.registerStoryDialog(ya,xa);},h.SUBSCRIBE_ALL);},registerPlaceholder:function(wa,xa){var ya=va._placeholders[wa];va._placeholders[wa]={status:qa,pageletData:xa};if(ya&&ya.status==ta){va.show(ha(wa));ya.callback();}}});ka(va.prototype,{ADS_IDLE_MS:300000,FLYOUT_MAX_HEIGHT:450,FLYOUT_OFFSET_THRESHOLD:20,FLYOUT_COMMENT_OFFSET:15,FLYOUT_VIEWPORT_PADDING:75,FLYOUT_TARGET_HEIGHT_OFFSET:25,init:function(wa,xa,ya){va._instances[wa.id]=this;va._activeInstance=this;this._root=wa;this._content=o.find(wa,'.ticker_stream');this._stories=o.find(this._root,'.tickerActivityStories');this._scrollableArea=xa;this._container=o.find(wa,'div.uiScrollableAreaWrap');this._newestStory={};this._storyIDs=[];this._objectIDs=[];this._fetchedStories={};this._removedStoryIDs=[];this._storiesToRemove=[];var za=Date.now();this._initTime=za;this._lastUpdate=za;this._lastPull=za;this._lastInsert=za;this._lastCustomStory=0;this._pollOnly=false;this._needNonCustomStoryNum=0;this._doCustomUpdate=true;this._autoloadStoryIndex=1;this._scrollTopThreshold=100;this._scrollTopPrompt=o.find(this._root,'.scrollTopPrompt');this._scrollTopPromptVisible=false;this._maxStoriesToKeep=50;this._minStoriesToKeep=25;this._tickerInSidebarMode=!!v.byClass(this._root,'fbChatSidebar');this._loadStoriesWithActions();ia('ticker_flyout');ia('ticker_flyout_prefetch');ia('ticker_flyout_loadtime');ia('ticker_stream');this._ua={flyout:pa('ticker').uai('flyout','flyout',false),flyout_prefetch:pa('ticker').uai('flyout_prefetch','flyout_prefetch',false),flyout_loadtime:pa('ticker').uai('ticker_flyout_loadtime','flyout_loadtime',false),stream:pa('ticker').uai('ticker_stream','stream',false)};this._uaCurStoryIDFetch=null;this._uaCurStoryIDPrefetch=null;var ab=o.create('div',{className:'storyQueue hidden_elem'});this._storyQueue=ab;o.appendContent(this._root,ab);this._initObjectIDs();this._initPageletCache(ya);this._initConfig(ya);this._resetMorePager();this._initListeners();this._initSubscriptions(ya);h.inform('ticker/init',this,h.BEHAVIOR_PERSISTENT);this._poll();if(this._prefetchAfterLoad){this._logUserEvent('stream','prefetch');this._fetchStories(this._getInsertedStories().slice(0,5));}},_loadStoriesWithActions:function(){var wa=ma('rightCol');if(!wa)return;this._toggleWrapper=o.scry(wa,'.tickerToggleWrapper')[0];if(this._toggleWrapper){var xa=o.scry(this._stories,'.tickerStoryWithButton');this._storiesWithActions={};for(var ya=0;ya<xa.length;ya++){var za=xa[ya];this._storiesWithActions[za.getAttribute('data-story-key')]=za;}}},_initPageletCache:function(wa){if(window.PageletCacheController){this._cache=window.PageletCacheController.registerController(this._root.parentNode.id,this);if(this._cache){ka(wa,this._cache.loadData());this._cache.registerCleanup('Ticker/cleanup');}}},_initConfig:function(wa){ka(this,{_newest:wa.newest,_page_newest:wa.newest,_timeout:wa.timeout,_heartbeatTimeout:Math.max(15000,wa.heartbeatTimeout),_pullTimeout:Math.max(30000,wa.pullTimeout),_insertTimeout:wa.insertTimeout,_friendCount:wa.friendCount,_maxQueueLength:wa.maxQueueLength,_heartbeatEndpoint:wa.heartbeatEndpoint,_noPoll:wa.nopoll,_maxCustomQueueLength:wa.maxCustomQueueLength,_customStoryInsertTimeout:Math.max(5000,wa.customStoryInsertTimeout),_nonCustomToCustomStoryRatio:wa.nonCustomToCustomStoryRatio,_minForceUpdateInterval:Math.max(wa.insertTimeout,wa.minForceUpdateInterval),_popupOnHover:wa.popupOnHover,_priorityAppId:wa.priorityAppId,_prefetchOnHover:wa.prefetchStoriesOnHover,_userIdleTimeout:wa.userIdleTimeout,_firstCustomStoryDelay:wa.firstCustomStoryDelay,_pollOnly:wa.pollOnly,_tickerSource:wa.tickerSource,_prefetchAfterLoad:wa.prefetchAfterLoad,_logFlyouts:wa.logFlyouts,_userScrollGaurdDelay:wa.userScrollGaurdDelay,_rescheduleScrollToTopDelay:wa.rescheduleScrollToTopDelay,_aggressiveRegulator:wa.aggressiveRegulator});this._queueCustomStories(wa.customStories);},_initListeners:function(){this._listeners=Event.listen(this._root,{click:this._handleClick.bind(this),keydown:this._handleKeydown.bind(this),mouseout:this._handleMouseout.bind(this),mouseover:this._handleMouseover.bind(this),mousedown:this._tickerDeClicker.bind(this),mouseup:this._handleMouseup.bind(this)});this._listeners.scroll=Event.listen(this._container,'scroll',oa(this._handleScroll.bind(this)));this._initInfiniteScrollListener.bind(this).defer();},_initSubscriptions:function(wa){w.onLeave(this._cleanup.bind(this));this._subscriptions=[h.subscribe(u.NAVIGATION_BEGIN,this._onNavHandler.bind(this)),h.subscribe(l.getArbiterType('ticker_update'),this._handleTickerPush.bind(this)),h.subscribe('composer/publish',this._handleComposerPublish.bind(this)),h.subscribe('Ticker/storiesInserted',this._handleStoriesInserted.bind(this)),h.subscribe('Ticker/fixed',this._setFixed.bind(this,true)),h.subscribe('Ticker/unfixed',this._setFixed.bind(this,false)),h.subscribe('Ticker/resized',this._checkInfiniteScroll.bind(this)),h.subscribe('ufi/comment',this._scrollDialogToBottom.bind(this)),h.subscribe('Ticker/chatOpened',this._handleChatOpened.bind(this))];if(wa.pushChannel)this.setPushChannel(wa.pushChannel);},_handleClick:function(event){var wa=event.getTarget();if(this._getButtonFromNode(wa)){this._logUserAction(wa,'click',event);this._handleActionButton(event);return;}var xa=this._getStoryFromNode(wa),ya=v.byClass(wa,'tickerStoryAllowClick');if(!xa||xa==this._selectedStory||ya)return;if(this._storyIsHidden(xa))return;if(xa==this._activeStory&&!this._selectedStory)this._selecting=true;this._clearNux();this._logUserEvent('flyout','click');this._logUserEvent('flyout_loadtime','open');if(this._storyCanOpenExternally(xa)){var za=xa.getAttribute('data-href');if(za&&!wa.getAttribute('href')){var ab={href:za},bb=ja(wa,['ft','gt']);ia('click',ab,event,'FORCE',bb);pa('ticker',ab,event).uai('click');}else this._logUserAction(wa,'click',event);this._openStoryExternally(xa,event);return;}this._logUserAction(wa,'flyout',event);this._activateStory(xa,'click');this._selectStory(xa);},_handleMouseover:function(event){this._setLocked(true);var wa=event.getTarget(),xa=this._getOpenableStory(wa);if(!xa)return;event.kill();if(this._prefetchOnHover||this._popupOnHover){if(!(xa.id in this._fetchedStories)){this._logUserEvent('flyout_prefetch','prefetch_on_hover');this._uaCurStoryIDPrefetch=xa.id;}this._fetchStory(xa);}if(this._selectedStory)return;if(this._popupOnHover){this._clearHoverTimeouts();var ya=this._storyCanOpenExternally(xa)?500:1000,za=this._activeStory?75:ya;this._hoverShowTimeout=this._setTimeout(function(){this._logUserEvent('flyout','hover',za);this._logUserEvent('flyout_loadtime','open');this._activateStory(xa,'hover');this._logUserAction(wa,'flyout',event);}.bind(this),za);}},_handleMouseout:function(event){var wa=event.getTarget();this._setLocked(false);if(wa==this._getStoryFromNode(wa)){var xa=o.scry(wa.parentNode,'.openToggler');for(var ya=0;ya<xa.length;ya++)y.toggle(xa[ya]);}this._clearClickedStory();this._scheduleHide();},_handleKeydown:function(event){this._tickerDeClicker(event);var wa=this._activeStory;if(!wa)return;var xa=Event.getKeyCode(event);switch(xa){case r.UP:case r.DOWN:var ya=this._getInsertedStories(),za;if(event.getModifiers().any){za=xa===r.UP?0:ya.length-1;}else za=ya.indexOf(wa)+(xa===r.UP?-1:1);wa=ya[za];break;case r.ESC:this._deactivateStory(true);return;default:return;}if(!wa)return;event.kill();this._activateStory(wa,'keypress');this._selectStory(wa);},_fadeTopmostStoryButton:function(){var wa=0,xa=15;if(this._storiesWithActions)for(var ya in this._storiesWithActions){var za=this._storiesWithActions[ya],ab=o.scry(za,'.tickerInlineActionButton')[0],bb=o.scry(ab,'.tickerActionIcon')[0],cb=ga.getElementPosition(ab).y-ga.getElementPosition(this._toggleWrapper).y;if(cb<wa){z.set(ab,'opacity',0);z.set(bb,'opacity',0);}else if(cb>=wa&&cb<xa){var db=(cb-wa)/(xa-wa);z.set(ab,'opacity',db);z.set(bb,'opacity',db);break;}else{z.set(ab,'opacity',1);z.set(bb,'opacity',1);}}},_handleScroll:function(){this._fadeTopmostStoryButton();!this._preventScrollDismiss&&this._deactivateStory(true);this._checkInfiniteScroll();this._setIsUserScrolling();if(!this._scrollLogged){this._scrollLogged=true;var wa=this._stories.childNodes.length,xa=this._stories.getAttribute('data-gt'),ya={ticker_scroll:1,number_stories:wa,source:xa};ia('scroll',null,null,'FORCE',{gt:ya});pa('ticker').uai('scroll');}},_setIsUserScrolling:function(){clearTimeout(this._userScrollingToken);if(this._isScrolledToTop()){this._userScrolling=false;return;}this._userScrolling=true;this._userScrollingToken=setTimeout(function(){this._userScrolling=false;this._userScrollingToken=null;}.bind(this),this._userScrollGaurdDelay);},_isUserScrolling:function(){return this._userScrolling;},_handleStoriesInserted:function(){this._initInfiniteScrollListener();if(this._scrollableArea instanceof x){this._scrollableArea.adjustGripper();}else ua.error('wrong_scrollable_area',{dump:this});this._logUserEvent('stream','insert');},_handleActionButton:function(event){var wa=event.getTarget(),xa=this._getOpenableStory(wa),ya=this._getStoryDialog(xa);if(ya)var za=ya.subscribe('beforehide',function(){ya.unsubscribe(za);return false;});},_handleScrollToTopClick:function(){this._scrollToTop(this._poll.bind(this));},_scheduleScrollToTop:function(){this._scrollToTopToken&&clearTimeout(this._scrollToTopToken);this._scrollToTopToken=setTimeout(function(){if(this._isLocked()||this._isUserScrolling()){this._scheduleScrollToTop();}else{this._scrollToTopToken=null;this._scrollToTop();}}.bind(this),this._rescheduleScrollToTopDelay);},_scrollToTop:function(wa){new g(this._container).to('scrollTop',0).ease(g.ease.end).ondone(wa).go();},_clearHoverTimeouts:function(){clearTimeout(this._hoverShowTimeout);clearTimeout(this._hoverHideTimeout);},_getAllStories:function(){return o.scry(this._root,'div.fbFeedTickerStory');},_getInsertedStories:function(){return this._getAllStories().filter(function(wa){return !n.hasClass(wa,'queuedStory')&&!n.hasClass(wa,'customStory');});},_getQueuedStories:function(){return o.scry(this._storyQueue,'.fbFeedTickerStory.queuedStory');},_getQueuedCustomStories:function(){return o.scry(this._storyQueue,'.fbFeedTickerStory.customStory');},_getButtonFromNode:function(wa){return v.byClass(wa,'tickerInlineOverlay');},_getStoryFromNode:function(wa){return v.byClass(wa,'fbFeedTickerStory');},_getActionButtonFromStory:function(wa){return o.scry(wa,'.tickerInlineActionButton')[0];},_getOpenableStory:function(wa){var xa=this._getStoryFromNode(wa);return this._storyCanOpenDialog(xa)?xa:null;},_getStoryDialog:function(wa){return m.getInstance(wa);},_getStoryDialogEndpoint:function(wa){return wa&&wa.getAttribute('data-rel')=='async'&&wa.getAttribute('data-ajaxify')||null;},_storyCanOpenDialog:function(wa){return !!this._getStoryDialogEndpoint(wa)&&!this._storyIsHidden(wa);},_storyCanOpenExternally:function(wa){return !!wa.getAttribute('data-href')||!this._storyCanOpenDialog(wa);},_storyIsHidden:function(wa){return n.hasClass(wa,'tickerStoryHidden');},hideActiveStory:function(){this._activeStory&&this.hideStory(this._activeStory);},hideStory:function(wa){this._deactivateStory();n.addClass(wa,'tickerStoryHidden');n.removeClass(wa,'tickerStoryClickable');},undoHideStory:function(wa){n.addClass(wa,'tickerStoryClickable');n.removeClass(wa,'tickerStoryHidden');},insertStoriesAtBottom:function(wa){if(!wa)return;var xa=o.create('div');xa.appendChild(wa);var ya=o.scry(xa,'.fbFeedTickerStory'),za=o.find(xa,'.tickerMorePager'),ab=[];for(var bb=0;bb<ya.length-1;bb++)if(!this.dedupeStory(ya[bb]))ab.push(ya[bb]);if(ab.length){ab.push(za);o.replace(o.find(this._root,'.tickerMorePager'),ab);}h.inform('Ticker/storiesInserted');},_scheduleHide:function(){if(this._popupOnHover&&!this._selectedStory){this._clearHoverTimeouts();this._hoverHideTimeout=this._setTimeout(this._deactivateStory.bind(this),100);}},_setScrollTopPromptVisible:function(wa){this._scrollTopPromptVisible=wa;n.conditionShow(this._scrollTopPrompt,wa);if(wa&&!this._listeners.scrollTop){this._listeners.scrollTop=Event.listen(this._scrollTopPrompt,{click:this._handleScrollToTopClick.bind(this)});}else if(!wa&&this._listeners.scrollTop){this._listeners.scrollTop.click.remove();this._listeners.scrollTop=null;}},_isUserIdle:function(){return !ea.isActive(this._userIdleTimeout);},_schedulePoll:function(){clearTimeout(this._pollToken);this._pollToken=this._setTimeout(this._poll.bind(this),this._timeout);},_poll:function(){if(!this._isTickerVisible())return;if(this._storiesToRemove.length>0){if(this._isInsertingStory)return this._schedulePoll();var wa=this._storiesToRemove.pop();this.removeStory(wa);}var xa=!this._isScrolledToTop()&&this._getQueuedStories().length;this._setScrollTopPromptVisible(xa);var ya=Date.now(),za=ya-this._lastInsert;if(za<this._insertTimeout||this._isLocked())return this._schedulePoll();var ab=this._getQueuedStories(),bb=this._getQueuedCustomStories(),cb=this._isUserIdle(),db=ab.length>0,eb=bb.length>0&&!cb&&(ya-this._initTime>this._firstCustomStoryDelay)&&(this._needNonCustomStoryNum===0||(!db&&(ya-this._lastCustomStory)>this._customStoryInsertTimeout));if(eb){this.insertStory(bb.shift());this._lastCustomStory=ya;this._needNonCustomStoryNum=this._nonCustomToCustomStoryRatio;return this._schedulePoll();}if(db){this.insertStory(ab.shift());this._needNonCustomStoryNum--;if(this._needNonCustomStoryNum<0)this._needNonCustomStoryNum=0;return this._schedulePoll();}if(cb)return ea.subscribeOnce(this._poll.bind(this));var fb=bb.length===0&&this._needNonCustomStoryNum===0&&this._nonCustomToCustomStoryRatio>0&&ea.isActive(this.ADS_IDLE_MS)&&((ya-this._lastUpdate)>this._minForceUpdateInterval),gb=false,hb=false;if(this._pollOnly){hb=ya-this._lastUpdate>this._heartbeatTimeout;}else gb=(ya-this._lastPull>this._pullTimeout);var ib=(fb&&this._doCustomUpdate)||gb||hb;if(!ib)return this._schedulePoll();if(fb)this._doCustomUpdate=false;this.update({pull:gb,fullpoll:hb,needcustomstory:fb});},update:function(wa){if(this._noPoll&&!this._pollOnly)return this._schedulePoll();var xa={newest:(wa.fullpoll||wa.cache_update)?this._newest:this._page_newest,storyids:this._storyIDs,friendcount:this._friendCount,priorityappid:this._priorityAppId,source:this._tickerSource,needcustomstory:this._nonCustomToCustomStoryRatio>0};ka(xa,wa);new i().setURI(this._heartbeatEndpoint).setReadOnly(true).setOption('retries',0).setData(xa).setHandler(this._handleResponse.bind(this)).setFinallyHandler(this._poll.bind(this)).setAllowCrossPageTransition(true).send();this._lastUpdate=Date.now();if(xa.pull)this._lastPull=this._lastUpdate;this._storyIDs=[];},insertStory:function(wa,xa,ya){this._lastInsert=Date.now();window.LiveTimer&&t.addTimeStamps(wa);n.removeClass(wa,'queuedStory');n.removeClass(wa,'customStory');if(xa!==false){var za=ya?this._fadeStoryIn:this._flyStoryIn;if(this._isUserScrolling()){var ab=function(){this._container.scrollTop=this._container.scrollTop+this._stories.firstChild.offsetHeight;this._scheduleScrollToTop();}.bind(this);this._fadeStoryIn(wa,ab);}else this._scrollToTop(za.bind(this,wa));}else o.prependContent(this._stories,wa);if(this._storiesWithActions&&n.hasClass(wa,'tickerStoryWithButton'))this._storiesWithActions[wa.getAttribute('data-story-key')]=wa;this._removeOldStories();},_removeOldStories:function(){var wa=this._getInsertedStories();if(wa.length<=this._maxStoriesToKeep)return;var xa=this._minStoriesToKeep,ya=wa.slice(xa);ya.forEach(o.remove);if(this._storiesWithActions)for(var za=0;za<ya.length;za++)delete this._storiesWithActions[ya[za].getAttribute('data-story-key')];this._resetMorePager();},_resetMorePager:function(){var wa=this._getInsertedStories();if(!wa||!wa.length)return;var xa=wa[wa.length-1].getAttribute('data-ticker-timestamp'),ya=o.scry(this._root,'.tickerMorePager a')[0];if(!ya||!xa)return;var za=new da(ya.getAttribute('ajaxify'));za.addQueryData({oldest:xa});ya.setAttribute('ajaxify',za);},_setLocked:function(wa){this._locked=wa;},_isLocked:function(){return !!(this._locked||this._activeStory);},informAndRemoveStory:function(wa,xa,ya){var za=this._getStoryFromNode(wa),ab=za.getAttribute('data-story-key');o.setContent(za,xa);n.addClass(za,'highlightedStory');this._setTimeout(this.removeStory.bind(this,ab),ya||6000);},_getStoryByStoryKey:function(wa){var xa=this._getAllStories();for(var ya=0;ya<xa.length;ya++){var za=xa[ya];if(za.getAttribute('data-story-key')==wa)return za;}return null;},removeStory:function(wa){this._removedStoryIDs[wa]=true;var xa=this._getStoryByStoryKey(wa);if(!xa)return;if(this._storiesWithActions)delete this._storiesWithActions[wa];if(xa==this._activeStory)this._deactivateStory();var ya=this._getStoryDialog(xa);ya&&ya.destroy();if(n.hasClass(xa,'queuedStory')){o.remove(xa);return;}this._animateStoryOut(xa);},_isScrolledToTop:function(){return this._container.scrollTop<=this._scrollTopThreshold;},_flyStoryIn:function(wa){var xa=o.create('div',{style:{marginTop:'-1000px'}},wa);z.set(xa,'opacity',0);o.prependContent(this._stories,xa);var ya=ga.getElementDimensions(xa).y;z.set(xa,'marginTop','-'+ya+'px');this._isInsertingStory=true;new g(xa).to('marginTop',0).ease(g.ease.end).checkpoint(.5).to('opacity',1).ondone(function(){o.replace(xa,wa);this._afterInsert(wa);this._isInsertingStory=false;}.bind(this)).go();},_fadeStoryIn:function(wa,xa){new g(this._stories).to('opacity',.5).ondone(function(){o.prependContent(this._stories,wa);if(xa)xa();new g(this._stories).to('opacity',1).ondone(function(){this._afterInsert(wa);}.bind(this)).go();}.bind(this)).go();},_animateStoryOut:function(wa){var xa=o.create('div',{style:{overflow:'hidden',position:'relative'}});o.insertBefore(wa,xa);o.appendContent(xa,wa);new g(xa).to('top',20).to('height',0).to('opacity',0).ease(g.ease.end).ondone(function(){o.remove.curry(xa);h.inform('Ticker/animateOut');}.bind(this)).go();},_afterInsert:function(wa){h.inform('Ticker/afterInsert');},setPushChannel:function(wa){this._pushSubscription&&this._pushSubscription.unsubscribe();this._pushSubscription=h.subscribe(l.getArbiterType(wa),this._handleTickerPush.bind(this));d(['ChatConfig','ChannelConnection'],function(xa,ya){this._channelConnection=ya;this._checkChannelConnection();this._channelConnectionSubscription=this._channelConnection.subscribe([this._channelConnection.CONNECTED,this._channelConnection.RECONNECTING,this._channelConnection.SHUTDOWN,this._channelConnection.MUTE_WARNING,this._channelConnection.UNMUTE_WARNING],this._handleChannelConnection.bind(this));}.bind(this));},_checkChannelConnection:function(){n.conditionClass(this._root,'disconnected',this._channelConnection.disconnected());},setCurrentAppId:function(wa){this._priorityAppId=wa;},_handleTickerPush:function(wa,xa){var ya=xa.obj;if(ya.delete_id){this._storiesToRemove.push(ya.delete_id);return;}if(ya.fromups)if(ya.do_logging)this._logDarkLaunch(ya);var za=ya.story_xhp;if(!za)return;this._newest=ya.story_time;var ab=p(za).getRootNode();this.queueStory(ab,ya.flyout_js_cmds);if(this._aggressiveRegulator&&ya.actor==this._newestStory.actorID){this.removeStory(this._newestStory.storyKey);new j('/common/ods_endpoint.php',{k:'ticker.aggr.remove'}).send();}this._newestStory={actorID:ya.actor,storyKey:ab.getAttribute('data-story-key')};},_handleComposerPublish:function(wa,xa){xa.tickerMarkup&&this.insertStory(xa.tickerMarkup);},_clearNux:function(){var wa=o.scry(document.body,'div.tickerNUXContainer');if(wa.length){wa.forEach(function(xa){var ya=m.getInstance(xa);ya&&ya.hide();});new i().setURI('/ajax/feed/ticker/nux.php').send();}this._clearNux=la;},_logDarkLaunch:function(wa){var xa={actor:wa.actor,story_time:wa.story_time,key:wa.story_obj_id,dark:1};new i().setURI('/alite/push/log.php').setData({msg:JSON.stringify(xa)}).send();},_logRender:function(){if(this._loggedRender)return;var wa=this._tickerInSidebarMode;if(wa||v.byClass(this._content,'home_right_column')){new j('/ajax/log_ticker_render.php',{sidebar_mode:wa}).send();this._loggedRender=true;}},_isTickerVisible:function(){var wa=(va._activeInstance==this);wa&&this._logRender();return wa;},_handleResponse:function(wa){var xa=wa.getPayload();if(xa.newest)this._newest=this._page_newest=xa.newest;if(xa.content)if(xa.cache_update&&this._cache){this._cache.insertStory(xa.content);}else if(xa.content instanceof Array){for(var ya=0;ya<xa.content.length;ya++)this.queueStoryMarkup(xa.content[ya]);}else this.queueStoryMarkup(xa.content);if(xa.custom_stories&&xa.custom_stories.length){this._queueCustomStories(xa.custom_stories);this._doCustomUpdate=true;}},queueStoryMarkup:function(wa){var xa=p(wa).getRootNode();this.queueStory(xa);},dedupeStory:function(wa){var xa=wa.getAttribute('data-story-key'),ya=xa&&(!!this._objectIDs[xa]||!!this._removedStoryIDs[xa]);xa&&(this._objectIDs[xa]=true);return ya;},queueStory:function(wa,xa){if(this.dedupeStory(wa))return;n.addClass(wa,'queuedStory');o.appendContent(this._storyQueue,wa);var ya=xa&&xa.length;if(ya)xa.forEach(function(ab){new Function(ab).apply();});wa.setAttribute('id',wa.id+'_'+this._root.id);var za=this._getQueuedStories();za.slice(0,-this._maxQueueLength).forEach(o.remove);if(ya)this._fetchedStories[wa.id]=true;},_queueCustomStories:function(wa){while(wa.length){var xa=wa.shift();xa=p(xa).getRootNode();if(this.dedupeStory(xa))continue;n.addClass(xa,'customStory');o.appendContent(this._storyQueue,xa);}var ya=this._getQueuedCustomStories();ya.slice(0,-this._maxQueueLength).forEach(o.remove);},_cleanup:function(){va._placeholders.pagelet_rhc_ticker=null;if(!v.byClass(this._content,'hasRightCol'))return;this._objectIDs=[];this._subscriptions.forEach(h.unsubscribe);this._channelConnectionSubscription&&this._channelConnection.unsubscribe(this._channelConnectionSubscription);this._pushSubscription&&this._pushSubscription.unsubscribe();for(var wa in this._listeners)this._listeners[wa]&&this._listeners[wa].remove();clearTimeout(this._pollToken);this._pollToken=null;this._cleanupInputFocusListener();this._cleanupContentResizeListener();h.inform('Ticker/cleanup');},_onNavHandler:function(wa,xa){var ya=xa.params.key;if(ya!='lf'&&ya!='h')this._cleanup();},registerStoryDialog:function(wa,xa){if(this._uaCurStoryIDFetch==wa.id){this._uaCurStoryIDFetch=null;this._logUserEvent('flyout','fetch_success');}if(this._uaCurStoryIDPrefetch==wa.id){this._uaCurStoryIDPrefetch=null;this._logUserEvent('flyout_prefetch','prefetch_success');}this._fetchedStories[wa.id]=true;xa.setContext(wa);xa.subscribe('hide',this._deactivateStory.bind(this,true));xa.subscribe('success',this._focusStory.bind(this,wa));xa.subscribe('beforehide',function(){if(this._selecting){this._selecting=false;return false;}}.bind(this));if(this._popupOnHover){xa.subscribe('mouseenter',this._clearHoverTimeouts.bind(this));xa.subscribe('mouseleave',this._scheduleHide.bind(this));xa.subscribe('show',function(){this._highlightDialogScrollbar.bind(this,xa).defer();var ya=Event.listen(xa.getContent(),'mousedown',function(){this._selectStory(wa);ya.remove();}.bind(this));}.bind(this));}if(wa==this._activeStory){this._logUserEvent('flyout_loadtime','show_fetched');this._logUserEvent('flyout','show');this._openDialog(xa);}},_highlightDialogScrollbar:function(wa){var xa=o.scry(wa.getContent(),'.uiScrollableArea')[0];xa&&x.poke(xa);},_openStoryExternally:function(wa,event){var xa=wa.getAttribute('data-href');if(!xa||xa=='#')return;var ya=wa.getAttribute('data-story-rel');switch(ya){case 'theater':this._deactivateAndClearStory();k.loadModules(['PhotoViewer'],function(bb){bb.bootstrap(xa,wa);});return;case 'async':this._deactivateAndClearStory();i.bootstrap(xa,wa);return;}var za=wa.getAttribute('data-target'),ab=(event.which!=1||event.getModifiers().any||za=='_blank');ab?window.open(xa,'_blank'):na(xa);},_deactivateAndClearStory:function(){this._clearHoverTimeouts();this._deactivateStory();},_focusStory:function(wa){clearTimeout(this._scrollDismissal);this._preventScrollDismiss=true;this._scrollDismissal=this._setTimeout(function(){this._preventScrollDismiss=false;}.bind(this),100);wa.focus();},_selectStory:function(wa){this._selectedStory=wa;n.addClass(wa,'tickerStorySelected');n.addClass(this._root,'tickerChildSelected');},_activateStory:function(wa,xa){this._clearHoverTimeouts();if(wa==this._activeStory||!this._storyCanOpenDialog(wa))return;this._deactivateStory();this._focusStory(wa);this._activeStory=wa;n.addClass(wa,'tickerStoryActive');window.Toggler&&ba.hide();if(this._logFlyouts){xa=xa||'unknown';new j('/ajax/feed/ticker/flyout.php',{src:xa}).send();}aa.log(wa);var ya=this._getStoryDialog(wa);if(ya){this._logUserEvent('flyout_loadtime','show_prefetched');this._logUserEvent('flyout','show');this._openDialog(ya);return;}if(!(wa.id in this._fetchedStories)){this._uaCurStoryIDFetch=wa.id;this._logUserEvent('flyout','fetch');}this._fetchStory(wa);},_deactivateStory:function(wa){if(this._activeStory===this._deactivatingStory)return;this._deactivatingStory=this._activeStory;if(this._dialog){if(wa===true){this._dialog.enableBehavior(s);}else this._dialog.disableBehavior(s);this._dialog.hide();this._logUserEvent('flyout','close');}if(this._activeStory){n.removeClass(this._activeStory,'tickerStoryActive');n.removeClass(this._activeStory,'tickerStorySelected');n.removeClass(this._root,'tickerChildSelected');}this._dialog=this._selectedStory=this._activeStory=null;this._cleanupInputFocusListener();this._cleanupContentResizeListener();this._deactivatingStory=null;},_logUserAction:function(wa,xa,event){ia(xa,wa,event,'FORCE');pa('ticker',wa,event).uai(xa);},_logUserEvent:function(wa,event){if(this._ua[wa])this._ua[wa].add_event(event);},_fetchStory:function(wa){clearTimeout(this._fetchToken);var xa=[],ya=this._getInsertedStories(),za=ya.indexOf(wa);[-1,0,1].forEach(function(ab){var bb=ya[za+ab];bb&&xa.push(bb);},this);this._fetchToken=setTimeout(this._fetchStories.bind(this,xa),100);},_fetchStories:function(wa){var xa=[],ya,za=function(ab){clearTimeout(ya);wa.forEach(function(bb){n.conditionClass(bb,'tickerStoryFetching',ab);});};wa=wa.filter(function(ab){if(ab.id in this._fetchedStories)return false;this._fetchedStories[ab.id]=true;var bb=this._getStoryDialogEndpoint(ab),cb=da(bb).getQueryData();if(!bb||!cb)return false;cb.uniq_id=ab.getAttribute('id');cb.referrer=this._tickerSource;xa.push(cb);return true;},this);if(!xa.length)return;ya=this._setTimeout(za.curry(true),500);new i('/ajax/feed/ticker/multi_story').setFinallyHandler(za.curry(false)).setErrorHandler(la).setData({stories:xa}).setAllowCrossPageTransition(this._tickerInSidebarMode).send();},_tickerDeClicker:function(event){var wa=event.getTarget(),xa=v.byTag(wa,'a'),ya=this._getStoryFromNode(wa),za=this._getButtonFromNode(wa);if(ya&&xa&&!za&&n.hasClass(ya,'tickerStoryClickable')&&!n.hasClass(xa,'tickerStoryAllowClick')&&!this._storyIsHidden(ya)){xa.setAttribute('rel','ignore');xa.removeAttribute('onclick');xa.removeAttribute('ajaxify');xa.removeAttribute('href');}var ab=(event.button==2),bb=(event.type==='keydown'),cb=ya&&this._getActionButtonFromStory(ya);if(!ab&&cb&&!bb)this._setClickedStory(ya);},_handleMouseup:function(event){this._clearClickedStory();},_setClickedStory:function(wa){this._clearClickedStory();n.addClass(wa,'tickerStoryClicked');this._clickedStory=wa;},_clearClickedStory:function(){if(this._clickedStory){n.removeClass(this._clickedStory,'tickerStoryClicked');this._clickedStory=null;}},_initInfiniteScrollListener:function(){var wa=this._getInsertedStories();if(this._storiesWithActions)for(var xa=0;xa<wa.length;xa++){var ya=wa[xa];if(n.hasClass(ya,'tickerStoryWithButton'))this._storiesWithActions[ya.getAttribute('data-story-key')]=ya;}var za=Math.max(0,wa.length-this._autoloadStoryIndex);this._infiniteScrollStory=wa[za];this._checkInfiniteScroll();},_checkInfiniteScroll:function(){if(this._infiniteScrollStory){var wa=ga.getElementPosition(this._infiniteScrollStory).y,xa=ga.getElementPosition(this._container).y+ga.getElementDimensions(this._container).y;if(wa<xa){var ya=o.scry(this._root,'.tickerMorePager a')[0];if(ya){var za=v.byClass(ya,'stat_elem')||ya;new i(ya.getAttribute('ajaxify')).setReadOnly(true).setRelativeTo(ya).setStatusElement(za).setAllowCrossPageTransition(true).send();this._logUserEvent('stream','scroll');}this._infiniteScrollStory=null;this._autoloadStoryIndex=5;}}},_setFixed:function(wa){if(!this._selectedStory)return;var xa=this._getStoryDialog(this._selectedStory);if(xa){xa.setFixed(wa);xa.updatePosition();}},_setTimeout:function(wa,xa){return setTimeout(wa,xa,!this._tickerInSidebarMode);},_scrollDialogToBottom:function(){var wa=this._dialog&&this._dialog.getContent(),xa=wa&&o.scry(wa,'.uiScrollableAreaWrap')[0],ya=xa&&x.getInstance(xa);ya&&ya.scrollToBottom();},_openDialog:function(wa){if(!this._tickerInSidebarMode)n.addClass(wa.getRoot(),'tickerStoryOverlayOnTop');this._dialog=wa.show();this._updateDialogPosition();this._writeSwfFrame(wa);this._initCommentFocusListener.bind(this).defer();this._initContentResizeListener.bind(this).defer();this._stupidIE7VideoResizeHack(wa);},_stupidIE7VideoResizeHack:function(wa){if(fa.ie()===7){var xa=o.scry(wa.getContent(),'.uiVideoThumb .img');xa.forEach(function(ya){z.set(ya,'width','');});}},_updateDialogPosition:function(){var wa=this._tickerInSidebarMode||!!v.byClass(this._root,'fixed_elem');this._dialog.setFixed(wa);this._adjustFlyoutContentHeight();this._dialog.updatePosition();},_writeSwfFrame:function(wa){var xa=this._dialog&&this._dialog.getContent(),ya=o.scry(xa,'.swfObject')[0];if(!ya)return;var za=ya.getAttribute('data-swfid');if(za&&window[za]){var ab=window[za];ab.write(ya);}},_initCommentFocusListener:function(){var wa=this._dialog&&this._dialog.getContent(),xa=wa&&o.scry(wa,'.tickerDialogFooter textarea')[0];if(!xa)return;this._listeners.inputFocus=Event.listen(xa,'focus',this._scrollDialogToBottom.bind(this));},_cleanupInputFocusListener:function(){if(this._listeners.inputFocus){this._listeners.inputFocus.remove();this._listeners.inputFocus=null;}},_initContentResizeListener:function(){var wa=this._dialog&&this._dialog.getContent();if(!wa)return;this._listeners.contentResize=Event.listen(wa,'click',function(){this._dialog.updatePosition.bind(this._dialog).defer();}.bind(this));},_cleanupContentResizeListener:function(){if(this._listeners.contentResize){this._listeners.contentResize.remove();this._listeners.contentResize=null;}},_adjustFlyoutContentHeight:function(){var wa=this._dialog&&this._dialog.getContent(),xa=wa&&o.scry(wa,'.uiScrollableAreaWrap')[0];if(!xa)return;var ya=ga.getElementDimensions(xa),za=ga.getElementPosition(xa),ab=o.scry(xa,'.uiUfi .uiUfiComment'),bb=ga.getViewportDimensions().y-this.FLYOUT_VIEWPORT_PADDING,cb=Math.min(this.FLYOUT_MAX_HEIGHT,bb),db=cb-this.FLYOUT_TARGET_HEIGHT_OFFSET;for(var eb=0;eb<ab.length;eb++){var fb=ab[eb],gb=ga.getElementPosition(fb),hb=gb.y-za.y;if(Math.abs(hb-db)<=this.FLYOUT_OFFSET_THRESHOLD){db=hb+this.FLYOUT_COMMENT_OFFSET;break;}}if(ya.y>db){z.set(xa,'height',db+'px');z.set(xa,'max-height',null);}else{z.set(xa,'max-height',cb+'px');z.set(xa,'height',null);}},_initObjectIDs:function(){var wa=this._getAllStories();for(var xa=0;xa<wa.length;++xa){var ya=wa[xa].getAttribute('data-story-key');ya&&(this._objectIDs[ya]=true);}},_handleChatOpened:function(){this._deactivateStory(true);},_handleChannelConnection:function(){this._checkChannelConnection();},getNewest:function(){return this._newest;}});e.exports=va;});
__d("legacy:TickerController",["TickerController"],function(a,b,c,d){a.TickerController=b('TickerController');},3);
__d("HomeTickerFirstRightColumnController",["$","ge","debounceAcrossTransitions","throttle","UIPagelet","Arbiter","Style","csx","CSS","DOM","Vector","Run","ContextualDialogX","TickerController","UIIntentionalStreamMessage","event-extensions"],function(a,b,c,d,e,f){var g=b('$'),h=b('ge'),i=b('debounceAcrossTransitions'),j=b('throttle'),k=b('UIPagelet'),l=b('Arbiter'),m=b('Style'),n=b('csx'),o=b('CSS'),p=b('DOM'),q=b('Vector'),r=b('Run'),s=b('ContextualDialogX'),t=b('TickerController'),u=b('UIIntentionalStreamMessage');b('event-extensions');var v=null,w=75,x=50,y=15,z=false,aa=false,ba,ca,da,ea,fa,ga,ha,ia,ja,ka=x,la=[],ma=[],na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za;function ab(){var rb=nb;function sb(){rb.defer();}var tb=p.scry(qa,'img.img');tb.forEach(function(ub){if(!ub.complete)Event.listen(ub,{load:sb,error:sb,abort:sb});});sb();}function bb(){ma=[l.subscribe('page_transition',eb),l.subscribe('netego_loaded',nb),l.subscribe('Ticker/storiesInserted',nb),l.subscribe('concierge/load',nb),l.subscribe(u.INSERT_STORIES,nb)];if(v.enableSidebar){ma.push(l.subscribe('sidebar/hide',ob));ma.push(l.subscribe('sidebar/show',pb));}}function cb(){if(qa){var rb=p.scry(qa,"div._4u8");for(var sb=0;sb<rb.length;sb++){var tb=JSON.parse(rb[sb].getAttribute('data-ad')).segment;if(tb==='premium')return true;}}return false;}function db(){za=p.scry(document,'div.fbRemindersContent');ua=p.scry(h('rightCol'),'div.home_right_column')[0];va=p.find(ua,'div.rightColumnWrapper');qa=h('pagelet_ego_pane_w')||h('pagelet_ego_pane_m');ea=v.refreshPremiumAds||!cb();Event.listen(qa,'mouseenter',function(){z=true;});Event.listen(qa,'mouseleave',function(){z=false;});ra=h('pagelet_rhc_ticker');if(!ra)return false;sa=p.scry(ra,'.ticker_container')[0];ta=p.scry(ra,'.ticker_stream')[0];return sa&&ta;}function eb(rb,sb){if(rb==='page_transition'&&sb&&sb.uri){var tb=sb.uri;if(tb.path==='/photo.php'){aa=true;return;}if(aa&&tb.path==='/'){aa=false;return;}}ma.forEach(l.unsubscribe);ma=[];la.forEach(function(ub){ub.remove();});la=[];na.reset();}function fb(){if(ia||!ba)ja=q.getElementPosition(qa,'viewport').y-q.getElementPosition(va,'viewport').y;}function gb(){fb();var rb=ka;kb();if(rb!=ka){ia=true;lb();}ya=wa+q.getElementPosition(pa,'viewport').y;var sb=ya,tb=q.getElementPosition(ua,'viewport').y;for(var ub=0;ub<za.length;ub++){var vb=s.getInstance(za[ub]);vb.hide();}if(ca||!ta){if(v.fixAdsOnScroll&&ha!==null){var wb=tb+ja,xb=wb<=sb-ha;if(ia||xb!==ba){ia=false;var yb=sb-ha-ja;mb(xb,yb);}}return;}var zb=tb<=sb+y;if(zb!==ba)mb(zb);}function hb(){var rb=Date.now();if(ea&&!z&&v.adsRefreshInterval&&rb-fa>=v.adsRefreshInterval)ib();}function ib(){fa=Date.now();k.loadFromEndpoint('WebEgoPane',qa,{pid:27,data:{organic_only:false,ads_only:false,refresh_num:++ga}},{bundle:false,crossPage:false,handler:ab});}function jb(){ia=true;fb();kb();lb();gb();}function kb(){var rb=q.getDocumentDimensions().y-(q.getScrollPosition('document').y+q.getViewportDimensions().y);ka=rb>xa?x:w;}function lb(){if(!v.fixAdsOnScroll)return;var rb=q.getViewportDimensions().y-wa-ka,sb=q.getElementDimensions(va).y;if(sb<=rb){ha=0-ja-y;return;}var tb=sb-ja,ub=p.scry(qa,'div.egoOrganicColumn')[0];if(tb<=rb&&ub){ha=0;}else{var vb=p.scry(qa,'div.ego_unit').reverse(),wb=p.scry(qa,"div._4u8").length,xb=v.maxFixedAds;if(wb<=v.maxFixedAds)xb=vb.length;var yb=null;for(var zb=0;zb<xb;zb++){var ac=vb[zb],bc=q.getElementPosition(ac,'viewport').y-q.getElementPosition(va,'viewport').y,cc=q.getElementDimensions(va).y-bc;if(cc>rb){if(zb>0)yb=vb[zb-1];break;}if(zb==xb-1)yb=ac;}if(yb==null){ha=null;}else ha=q.getElementPosition(yb,'viewport').y-q.getElementPosition(qa,'viewport').y;}}function mb(rb,sb){ba=rb;sb=sb||ya;var tb=rb?sb+'px':'';m.set(va,'top',tb);o.conditionClass(va,'fixed_elem',rb);var ub=p.scry(va,'div.displayedTickerToggleWrapper')[0];ub&&o.conditionClass(ub,'toggleWrapperWithoutMargin',v.fixAdsOnScroll&&rb&&!ta);if(da){var vb=rb?'Ticker/fixed':'Ticker/unfixed';l.inform(vb);}}function nb(){if(!da||!ta||o.hasClass(document.documentElement,'tinyViewport')){jb();return;}gb();var rb=q.getViewportDimensions().y,sb=61,tb=q.getElementDimensions(va).y-q.getElementDimensions(sa).y,ub=q.getElementDimensions(ta).y,vb=rb-tb-w-ya-sb,wb=v.tickerAbsMinHeight||120,xb=v.tickerMinHeight||225;ca=false;if(vb<wb){ca=true;mb(false);vb=wb;}else if(vb<xb)if(vb>(xb-sb)){vb=xb;}else vb+=sb;var yb=Math.min(vb,ub,v.tickerMaxHeight||425);m.set(sa,'height',yb+'px');}function ob(){da=true;db();var rb=function(){if(db()){ca=false;gb();nb();}};ra&&t.show(ra,rb);}function pb(){da=false;db();if(v.fixAdsOnScroll){jb();}else{ca=true;mb(false);}ra&&t.hide(ra);}var qb={init:function(rb){v=rb;oa=g('contentCol');pa=g('blueBar');ga=0;fa=Infinity;fa=Date.now();na=i(hb,v.adsRefreshDelay);if(v.adsRefreshOnmove)la.push(Event.listen(window,'mousemove',na));la.push(Event.listen(window,'scroll',na));la.push(Event.listen(window,'resize',na));la.push(Event.listen(window,'resize',j(nb)));wa=q.getElementDimensions(pa).y;xa=q.getElementDimensions(g('pageFooter')).y;db();bb();r.onLeave(eb);la.push(Event.listen(window,'scroll',j(gb)));if(!o.hasClass(document.documentElement,'sidebarMode')){ob();}else if(v.enableSidebar)pb();ab();}};e.exports=qb;});