/*1349662293,173213727*/

if (window.CavalryLogger) { CavalryLogger.start_js(["EMnzM"]); }

__d("ComposerXStubStatusAttachment",["event-extensions","Class","ComposerXAttachment","ComposerXDragDrop","CSS","Parent","copyProperties","cx"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Class'),h=b('ComposerXAttachment'),i=b('ComposerXDragDrop'),j=b('CSS'),k=b('Parent'),l=b('copyProperties'),m=b('cx');function n(o,p){this.parent.construct(this);this._root=o;this._config=p;}g.extend(n,h);l(n.prototype,{_dragdrop:null,attachmentClassName:"_4j",getRoot:function(){return this._root;},initWithComponents:function(){if(this._config.plus_version){this._dragdrop=new i(this._root,this._composerID,this._config.targetID);this._dragdrop.enableURLDropping();}},reset:function(){var o=k.byClass(this._root,"child_was_focused");if(o)j.removeClass(o,"child_was_focused");this.getComponent('maininput').instance.setPlaceholder(this._config.mentionsPlaceholder);if(this._dragdrop){this._dragdrop.deactivate();this._dragdrop=null;}},canSwitchAway:function(){return !k.byClass(this._root,'async_saving');}});e.exports=n;});
__d("GroupMall",["event-extensions","Animation","Arbiter","CSS","DOM","LiveTimer","NavigationMessage","Run","Style","Vector","$","copyProperties","ge"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Animation'),h=b('Arbiter'),i=b('CSS'),j=b('DOM'),k=b('LiveTimer'),l=b('NavigationMessage'),m=b('Run'),n=b('Style'),o=b('Vector'),p=b('$'),q=b('copyProperties'),r=b('ge'),s={};q(s,{init:function(t){this._mallNode=p('group_mall_'+t);this._composerPublishToken=h.subscribe('composer/publish',function(event,u){if(u.streamStory&&!r(u.streamStory.id))this._addPostToUI(u.streamStory);}.bind(this));m.onLeave(this._onleave.bind(this));this._navigationBeginToken=h.subscribe(l.NAVIGATION_BEGIN,this._onleave.bind(this));},_onleave:function(){this._navigationBeginToken.unsubscribe();this._composerPublishToken.unsubscribe();},_addPostToUI:function(t){var u=o.getElementDimensions(this._mallNode).y;j.prependContent(this._mallNode,t);var v=this._mallNode.firstChild;k.startLoop(0);new g(v).from('opacity',0).to('opacity',1).duration(300).go();}});e.exports=s;});
__d("GroupsAddTypeaheadView",["Arbiter","Class","ContextualTypeaheadView","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Class'),i=b('ContextualTypeaheadView'),j=b('copyProperties');function k(l,m){this.parent.construct(this,l,m);}h.extend(k,i);j(k.prototype,{select:function(l){var m=this.results[this.index];g.inform('GroupsMemberSuggestion/remove',m.uid);if(m.is_member){this.reset();}else this.parent.select(l);}});e.exports=k;});
function GroupsAddMemberTypeahead(){}copyProperties(GroupsAddMemberTypeahead.prototype,{init:function(a,b){a.subscribe('select',function(c,d){Arbiter.inform('GroupsAddMemberTypeahead/add',{gid:b,uid:d.selected.uid,name:d.selected.text,photo:d.selected.photo});var e=a.getData().getExclusions();e.push(d.selected.uid);a.getData().setExclusions(e);});Arbiter.subscribe('GroupsAddMemberTypeahead/updateGroupToken',this.resetTypeaheadCaches.bind(this));},resetTypeaheadCaches:function(a,b){var c=DOM.scry(ge('pagelet_group_mall'),'.uiTypeahead');for(var d=0;d<c.length;d++){var e=Typeahead.getInstance(c[d]);if(e){var f=e.getData();f.updateToken(b.token);e.getCore().subscribe('focus',f.bootstrap.bind(f));}}}});
__d("TypeaheadSubmitOnSelect",["copyProperties","Form"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('Form');function i(j){this._typeahead=j;}g(i.prototype,{_subscription:null,enable:function(){this._subscription=this._typeahead.subscribe('select',function(){var j=this._typeahead.getCore().getElement().form;if(j)j.getAttribute('rel')=='async'?h.bootstrap(j):j.submit();}.bind(this));},disable:function(){this._typeahead.unsubscribe(this._subscription);this._subscription=null;}});e.exports=i;});
__d("legacy:SubmitOnSelectTypeaheadBehavior",["TypeaheadSubmitOnSelect"],function(a,b,c,d){var e=b('TypeaheadSubmitOnSelect');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.submitOnSelect=function(f){f.enableBehavior(e);};},3);
__d("highlight",["Animation","Style"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Style');function i(j,k,l){new g(j).from('background','#fff9d7').to('background',l||'#fff').ease(g.ease.both).duration(2000).ondone(function(){h.set(j,'background','');k&&k();}).go();}e.exports=i;});
__d("ScrollHighlight",["DOMScroll","highlight"],function(a,b,c,d,e,f){var g=b('DOMScroll'),h=b('highlight'),i={actOn:function(j,k){g.scrollTo(j);h(j,null,k);}};e.exports=i;});
__d("legacy:Hovercard",["Hovercard"],function(a,b,c,d){a.Hovercard=b('Hovercard');},3);