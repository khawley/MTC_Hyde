/*1349991768,173217057*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Gu4XC"]); }

__d("renderer-renderClassSet",[],function(a,b,c,d,e,f){function g(h,i){var j='',k;if(Array.isArray(h)){for(var l=0;l<h.length;l++){j+=g(h[l],i);i=i||!!j;}}else for(k in h)if(h[k]){if(i)j+=' ';j+=k;i=true;}return j;}e.exports=g;});
__d("MentionsInputUtils",[],function(a,b,c,d,e,f){var g={generateDataFromTextWithEntities:function(h){var i=h.text,j={};(h.ranges||[]).forEach(function(k){var l=k.entities[0];if(!l.external)j[l.id]=i.substr(k.offset,k.length);});return {flattened:i,mention_data:j};}};e.exports=g;});
__d("NumberFormat",["Env"],function(a,b,c,d,e,f){var g=b('Env'),h=/(\d{3})(?=\d)/g,i=10000,j=function(l){return (''+l).split('').reverse().join('');},k={formatIntegerWithDelimiter:function(l,m){if((g.locale=='nb_NO'||g.locale=='nn_NO')&&(Math.abs(l)<i))return l.toString();var n=j(l);return j(n.replace(h,'$1'+m));}};e.exports=k;});
__d("UFIConstants",[],function(a,b,c,d,e,f){var g={COMMENT_LIKE:'fa-type:comment-like',COMMENT_SET_SPAM:'fa-type:mark-spam',DELETE_COMMENT:'fa-type:delete-comment',LIKE_ACTION:'fa-type:like',REMOVE_PREVIEW:'fa-type:remove-preview',CONFIRM_COMMENT_REMOVAL:'fa-type:confirm-remove',TRANSLATE_COMMENT:'fa-type:translate-comment',UNDO_DELETE_COMMENT:'fa-type:undo-delete-comment'},h={DELETED:'status:deleted',SPAM:'status:spam',SPAM_DISPLAY:'status:spam-display',FAILED_ADD:'status:failed-add',FAILED_EDIT:'status:failed-edit',PENDING_EDIT:'status:pending-edit',PENDING_UNDO_DELETE:'status:pending-undo-delete'},i={MOBILE:1,SMS:3,EMAIL:4},j={PROFILE:0,NEWS_FEED:1,OBJECT:2,MOBILE:3,EMAIL:4,PROFILE_APROVAL:10,TICKER:12,NONE:13,INTERN:14,ADS:15},k={UNKNOWN:0,INITIAL_SERVER:1,LIVE_SEND:2,USER_ACTION:3,ENDPOINT_LIKE:10,ENDPOINT_COMMENT_LIKE:11,ENDPOINT_ADD_COMMENT:12,ENDPOINT_EDIT_COMMENT:13,ENDPOINT_DELETE_COMMENT:14,ENDPOINT_UNDO_DELETE_COMMENT:15,ENDPOINT_COMMENT_SPAM:16,ENDPOINT_REMOVE_PREVIEW:17,ENDPOINT_ID_COMMENT_FETCH:18,ENDPOINT_COMMENT_FETCH:19,ENDPOINT_TRANSLATE_COMMENT:20,ENDPOINT_BAN:21},l=50,m=.6,n=420,o=5,p=80;e.exports={UFIActionType:g,UFIStatus:h,UFISourceType:i,UFIFeedbackSourceType:j,UFIPayloadSourceType:k,defaultPageSize:l,commentTruncationLength:n,commentTruncationPercent:m,commentTruncationMaxLines:o,attachmentTruncationLength:p};});
__d("UFIBlingBox",["ReactDOM","NumberFormat","React","UFIConstants","copyProperties"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('NumberFormat'),i=b('React'),j=b('UFIConstants'),k=b('copyProperties'),l=i.createComponent({render:function(){var n=[];if(this.props.likes)n.push(m({count:this.props.likes,classSet:{mls:n.length>0},iconClassName:"UFIBlingBoxLikeIcon",contextArgs:this.props.contextArgs}));if(this.props.comments)n.push(m({count:this.props.comments,classSet:{mls:n.length>0},iconClassName:"UFIBlingBoxCommentIcon",contextArgs:this.props.contextArgs}));if(this.props.reshares)n.push(m({count:this.props.reshares,classSet:{mls:n.length>0},iconClassName:"UFIBlingBoxReshareIcon",contextArgs:this.props.contextArgs}));var o=g.a({classSet:{UFIBlingBox:true,uiBlingBox:true,feedbackBling:true},href:this.props.permalink,'data-ft':this.props['data-ft'],children:n});if(this.props.comments<j.defaultPageSize){o.props.onClick=this.props.onClick;o.props.rel='ignore';}return o;}}),m=i.createComponent({render:function(){var n={UFIBlingBoxSprite:true};n[this.props.iconClassName]=true;k(n,this.props.classSet);var o=h.formatIntegerWithDelimiter(this.props.count,this.props.contextArgs.numberdelimiter||',');return (g.span({children:[g.i({classSet:n}),g.span({classSet:{UFIBlingBoxText:true},children:o})]}));}});e.exports=l;});
__d("UFICentralUpdates",["Arbiter","ChannelConstants","LiveTimer","ShortProfiles","UFIConstants","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ChannelConstants'),i=b('LiveTimer'),j=b('ShortProfiles'),k=b('UFIConstants'),l=b('copyProperties'),m=b('tx'),n=0,o={},p={},q={},r={},s=[];g.subscribe(h.getArbiterType('live-data'),function(x,y){if(y&&y.obj){var z=y.obj,aa=z.comments||[];aa.forEach(function(ba){ba.timestamp.text="a few seconds ago";});w.handleUpdate(k.UFIPayloadSourceType.LIVE_SEND,z);}});function t(){if(!n){var x=q,y=o,z=p,aa=r;q={};o={};p={};r={};if(Object.keys(x).length)v('feedback-id-changed',x);if(Object.keys(y).length)v('feedback-updated',y);if(Object.keys(z).length)v('comments-updated',z);if(Object.keys(aa).length)v('instance-updated',aa);s.pop();}}function u(){if(s.length){return s[s.length-1];}else return k.UFIPayloadSourceType.UNKNOWN;}function v(event,x){w.inform(event,{updates:x,payloadSource:u()});}var w=l(new g(),{handleUpdate:function(x,y){if(Object.keys(y).length)this.synchronizeInforms(function(){s.push(x);var z=l({payloadsource:u()},y);this.inform('update-feedback',z);this.inform('update-comment-lists',z);this.inform('update-comments',z);this.inform('update-actions',z);(y.profiles||[]).forEach(function(aa){j.set(aa.id,aa);});if(y.servertime)i.restart(y.servertime);}.bind(this));},didUpdateFeedback:function(x){o[x]=true;t();},didUpdateComment:function(x){p[x]=true;t();},didUpdateFeedbackID:function(x,y){q[x]=y;t();},didUpdateInstanceState:function(x,y){if(!r[x])r[x]={};r[x][y]=true;t();},synchronizeInforms:function(x){n++;try{x();}catch(y){throw y;}finally{n--;t();}}});e.exports=w;});
__d("ImmutableObject",["keyMirror","merge","mergeInto","mergeHelpers","throwIf"],function(a,b,c,d,e,f){var g=b('keyMirror'),h=b('merge'),i=b('mergeInto'),j=b('mergeHelpers'),k=b('throwIf'),l=j.checkMergeArgs,m=j.isTerminal,n,o;n=g({INVALID_MAP_SET_ARG:null});o=function(q){i(this,q);};o.set=function(q,r){k(!(q instanceof o),n.INVALID_MAP_SET_ARG);var s=new o(q);i(s,r);return s;};o.setField=function(q,r,s){var t={};t[r]=s;return o.set(q,t);};o.setDeep=function(q,r){k(!(q instanceof o),n.INVALID_MAP_SET_ARG);return p(q,r);};function p(q,r){l(q,r);var s={},t=Object.keys(q);for(var u=0;u<t.length;u++){var v=t[u];if(!r.hasOwnProperty(v)){s[v]=q[v];}else if(m(q[v])||m(r[v])){s[v]=r[v];}else s[v]=p(q[v],r[v]);}var w=Object.keys(r);for(u=0;u<w.length;u++){var x=w[u];if(q.hasOwnProperty(x))continue;s[x]=r[x];}return (q instanceof o||r instanceof o)?new o(s):s;}e.exports=o;});
__d("UFIClientIDs",["randomInt"],function(a,b,c,d,e,f){var g=b('randomInt'),h={},i={getNewClientID:function(){var j=Date.now(),k=j+':'+(g(0,4294967295)+1);h[k]=true;return k;},isExistingClientID:function(j){return !!h[j];}};e.exports=i;});
__d("UFIFeedbackTargets",["copyProperties","KeyedCallbackManager","UFICentralUpdates","UFIClientIDs","UFIConstants"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('KeyedCallbackManager'),i=b('UFICentralUpdates'),j=b('UFIClientIDs'),k=b('UFIConstants'),l=new h();function m(s){var t={};s.forEach(function(u){var v=g({},u);delete v.commentlist;delete v.commentcount;t[u.entidentifier]=v;i.didUpdateFeedback(u.entidentifier);});l.addResourcesAndExecute(t);}function n(s){for(var t=0;t<s.length;t++){var u=s[t];switch(u.actiontype){case k.UFIActionType.LIKE_ACTION:p(u);break;}}}function o(s){for(var t=0;t<s.length;t++){var u=s[t];if(u.orig_ftentidentifier)q(u.orig_ftentidentifier,u.ftentidentifier);}}function p(s){if(s.orig_entidentifier)q(s.orig_entidentifier,s.entidentifier);var t=l.getResource(s.entidentifier);if(t){s.hasviewerliked=!!s.hasviewerliked;if(s.clientid&&j.isExistingClientID(s.clientid)&&s.hasviewerliked!=t.hasviewerliked)return;t.likecount=s.likecount||0;t.likesentences=s.likesentences;if(s.actorid==t.actorforpost){t.hasviewerliked=s.hasviewerliked;}else if(s.hasviewerliked!=t.hasviewerliked){t.likesentences={current:s.likesentences.alternate,alternate:s.likesentences.current};if(t.hasviewerliked){t.likecount++;}else t.likecount--;}if(s.actorid!=t.actorforpost)t.likesentences.isunseen=true;m([t]);}}function q(s,t){var u=l.getResource(s);if(u){l.setResource(s,null);u.entidentifier=t;l.setResource(t,u);i.didUpdateFeedbackID(s,t);}}var r={getFeedbackTarget:function(s,t){var u=l.executeOrEnqueue(s,t),v=l.getUnavailableResources(u);if(!v.length)return;}};i.subscribe('update-feedback',function(s,t){var u=t.feedbacktargets;if(u&&u.length)m(u);});i.subscribe('update-actions',function(s,t){if(t.actions&&t.actions.length)n(t.actions);});i.subscribe('update-comments',function(s,t){if(t.comments&&t.comments.length)o(t.comments);});e.exports=r;});
__d("UFIInstanceState",["UFICentralUpdates"],function(a,b,c,d,e,f){var g=b('UFICentralUpdates'),h={};function i(k){if(!h[k])h[k]={};}var j={getKeyForInstance:function(k,l){i(k);return h[k][l];},updateState:function(k,l,m){i(k);h[k][l]=m;g.didUpdateInstanceState(k,l);},updateStateField:function(k,l,m,n){var o=this.getKeyForInstance(k,l)||{};o[m]=n;this.updateState(k,l,o);}};e.exports=j;});
__d("UFIComments",["ImmutableObject","JSLogger","KeyedCallbackManager","MercuryServerDispatcher","UFICentralUpdates","UFIClientIDs","UFIConstants","UFIFeedbackTargets","UFIInstanceState","URI","copyProperties","keyMirror","merge","randomInt","throwIf"],function(a,b,c,d,e,f){var g=b('ImmutableObject'),h=b('JSLogger'),i=b('KeyedCallbackManager'),j=b('MercuryServerDispatcher'),k=b('UFICentralUpdates'),l=b('UFIClientIDs'),m=b('UFIConstants'),n=b('UFIFeedbackTargets'),o=b('UFIInstanceState'),p=b('URI'),q=b('copyProperties'),r=b('keyMirror'),s=b('merge'),t=b('randomInt'),u=b('throwIf'),v=r({INVALID_COMMENT_TYPE:null}),w=h.create('UFIComments'),x={},y={},z={},aa={},ba={},ca='unavailable_comment_key';function da(ua){return ua in ba?ba[ua]:ua;}function ea(ua){if(!y[ua])y[ua]=new i();return y[ua];}function fa(ua,va){ua.forEach(function(wa){var xa=wa.ftentidentifier,ya=wa.parentcommentid||xa;n.getFeedbackTarget(xa,function(za){var ab=wa.clientid,bb=false,cb=s({},wa);if(ab){delete cb.clientid;bb=l.isExistingClientID(ab);if(bb&&ba[ab])return;}var db=m.UFIPayloadSourceType;if((va===db.LIVE_SEND)||(va===db.USER_ACTION)||(va===db.ENDPOINT_ADD_COMMENT)||(va===db.ENDPOINT_EDIT_COMMENT))cb.isunseen=true;if(va===db.ENDPOINT_COMMENT_FETCH||va===db.ENDPOINT_ID_COMMENT_FETCH)cb.fromfetch=true;var eb=ea(ya),fb=eb.getAllResources(),gb={};for(var hb in fb){var ib=fb[hb];gb[ib]=hb;}if(bb){if(x[ab].ufiinstanceid)o.updateStateField(x[ab].ufiinstanceid,'locallycomposed',wa.id,true);ba[ab]=wa.id;x[wa.id]=x[ab];delete x[ab];k.didUpdateComment(ab);if(ab in gb){gb[wa.id]=gb[ab];var jb=gb[ab];eb.setResource(jb,wa.id);}}if(!gb[wa.id]){var kb=z[ya]||0;gb[wa.id]=kb;z[ya]=kb+1;eb.setResource(kb,wa.id);}var lb=gb[wa.id],mb=z[ya];cb.replycount=z[wa.id]||0;var nb=Math.floor((mb-lb-1)/m.defaultPageSize)*m.defaultPageSize;cb.permalink=p(za.permalink).addQueryData({comment_id:wa.legacyid,offset:nb,total_comments:mb}).toString();ta.setComment(wa.id,new g(cb));k.didUpdateComment(wa.id);k.didUpdateFeedback(xa);});});}function ga(ua){for(var va=0;va<ua.length;va++){var wa=ua[va];switch(wa.actiontype){case m.UFIActionType.COMMENT_LIKE:ja(wa);break;case m.UFIActionType.DELETE_COMMENT:ma(wa);break;case m.UFIActionType.UNDO_DELETE_COMMENT:na(wa);break;case m.UFIActionType.REMOVE_PREVIEW:oa(wa);break;case m.UFIActionType.COMMENT_SET_SPAM:pa(wa);break;case m.UFIActionType.CONFIRM_COMMENT_REMOVAL:qa(wa);break;case m.UFIActionType.TRANSLATE_COMMENT:ka(wa);break;}}}function ha(ua){for(var va in ua){var wa=ua[va],xa=wa.range,ya=wa.values;if(!xa){w.error('nullrange',{target:va,commentList:wa});continue;}var za={};for(var ab=0;ab<xa.length;ab++)za[xa.offset+ab]=ya[ab]||ca;ea(va).addResourcesAndExecute(za);if(wa.count!==undefined)z[va]=wa.count;var bb=wa.ftentidentifier||va;k.didUpdateFeedback(bb);}}function ia(ua){ua.forEach(function(va){z[va.entidentifier]=va.commentcount;aa[va.entidentifier]=0;k.didUpdateFeedback(va.entidentifier);});}function ja(ua){var va=ta.getComment(ua.commentid);if(va){var wa={},xa=ua.clientid&&l.isExistingClientID(ua.clientid);if(!xa){wa.hasviewerliked=ua.viewerliked;wa.likecount=ua.likecount;}wa.likeconfirmhash=t(0,1024);sa(ua.commentid,wa);}}function ka(ua){var va=ua.commentid,wa=ta.getComment(ua.commentid);if(wa)sa(va,{translatedtext:ua.translatedtext});}function la(ua){var va={reportLink:ua.reportLink,commenterIsFOF:ua.commenterIsFOF,userIsMinor:ua.userIsMinor};if(ua.undoData)va.undoData=ua.undoData;return va;}function ma(ua){var va=ta.getComment(ua.commentid);if(va.status!==m.UFIStatus.DELETED)aa[va.ftentidentifier]++;ra(va,m.UFIStatus.DELETED);}function na(ua){var va=ta.getComment(ua.commentid);if(va.status===m.UFIStatus.DELETED)aa[va.ftentidentifier]--;ra(va,m.UFIStatus.PENDING_UNDO_DELETE);}function oa(ua){sa(ua.commentid,{attachment:null});}function pa(ua){var va=ta.getComment(ua.commentid),wa=ua.shouldHideAsSpam?m.UFIStatus.SPAM_DISPLAY:null;ra(va,wa);}function qa(ua){sa(ua.commentid,la(ua));}function ra(ua,va){sa(ua.id,{priorstatus:ua.status,status:va});}function sa(ua,va){var wa=ta.getComment(ua)||new g({});ta.setComment(ua,g.set(wa,va));k.didUpdateComment(wa.id);k.didUpdateFeedback(wa.ftentidentifier);}var ta={getComments:function(ua){var va={};for(var wa=0;wa<ua.length;wa++)va[ua[wa]]=ta.getComment(ua[wa]);return va;},getComment:function(ua){return x[da(ua)];},setComment:function(ua,va){x[da(ua)]=va;},getCommentsInRange:function(ua,va,wa){var xa=ea(ua),ya=null;n.getFeedbackTarget(ua,function(za){var ab=[];for(var bb=0;bb<va.length;bb++)ab.push(va.offset+bb);ya=xa.executeOrEnqueue(ab,function(hb){var ib=[],jb=va.offset,kb=va.offset+va.length-1;for(var lb=0;lb<va.length;lb++){var mb=za.isranked?kb-lb:jb+lb;if(hb[mb]!=ca){var nb=this.getComment(hb[mb]);if(nb)ib.push(nb);}}wa(ib);}.bind(this));var cb=xa.getUnavailableResources(ya);if(cb.length){xa.unsubscribe(ya);var db=Math.min.apply(Math,cb),eb=Math.max.apply(Math,cb),fb=db,gb=eb-db+1;j.trySend('/ajax/ufi/comment_fetch.php',{ft_ent_identifier:za.entidentifier,source:null,offset:fb,length:gb});}}.bind(this));return ya;},getRepliesInRanges:function(ua,va,wa){var xa={},ya={},za={},ab=false;n.getFeedbackTarget(ua,function(bb){for(var cb in va){var db=ea(cb),eb=va[cb],fb=[];for(var gb=0;gb<eb.length;gb++)fb.push(eb.offset+gb);xa[cb]=db.executeOrEnqueue(fb,function(qb){var rb=[];for(var sb=0;sb<eb.length;sb++){var tb=eb.offset+sb;if(qb[tb]!=ca){var ub=this.getComment(qb[tb]);if(ub)rb.push(ub);}}ya[cb]=rb;}.bind(this));za[cb]=db.getUnavailableResources(xa[cb]);if(za[cb].length){ab=true;db.unsubscribe(xa[cb]);}}if(!ab){wa(ya);}else{var hb=[],ib=[],jb=[];for(var kb in za){var lb=za[kb];if(lb.length){var mb=Math.min.apply(Math,lb),nb=Math.max.apply(Math,lb),ob=mb,pb=nb-mb+1;hb.push(kb);ib.push(ob);jb.push(pb);}}j.trySend('/ajax/ufi/reply_fetch.php',{ft_ent_identifier:bb.entidentifier,parent_comment_ids:hb,source:null,offsets:ib,lengths:jb});}}.bind(this));return xa;},getCommentCount:function(ua){return z[ua]||0;},getDeletedCount:function(ua){return aa[ua]||0;},getDisplayedCommentCount:function(ua){return (z[ua]||0)-(aa[ua]||0);}};j.registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:j.IMMEDIATE,handler:k.handleUpdate.bind(k,m.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)},'/ajax/ufi/reply_fetch.php':{mode:j.IMMEDIATE,handler:k.handleUpdate.bind(k,m.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)}});k.subscribe('update-comments',function(ua,va){if(va.comments&&va.comments.length)fa(va.comments,va.payloadsource);});k.subscribe('update-actions',function(ua,va){if(va.actions&&va.actions.length)ga(va.actions);});k.subscribe('update-comment-lists',function(ua,va){var wa=va.commentlists;if(wa&&Object.keys(wa).length)ha(wa);});k.subscribe('update-feedback',function(ua,va){var wa=va.feedbacktargets;if(wa&&wa.length)ia(wa);});e.exports=ta;});
__d("UFITrackingNodes",[],function(a,b,c,d,e,f){var g={types:{USER_NAME:2,LIKE_LINK:5,UNLIKE_LINK:6,USER_MESSAGE:18,SOURCE:21,BLINGBOX:22,VIEW_ALL_COMMENTS:24,COMMENT:25,SMALL_ACTOR_PHOTO:27,ADD_COMMENT_BOX:34,UFI:36},encodeTrackingInfo:function(h,i){var j=String.fromCharCode(h+57);if(i)j+=String.fromCharCode(48+Math.min(i,10)-1);return j;},getTrackingInfo:function(h,i){return '{"tn":"'+g.encodeTrackingInfo(h,i)+'"}';}};e.exports=g;});
__d("UFILikeLink",["ReactDOM","React","UFITrackingNodes","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('UFITrackingNodes'),j=b('tx'),k=h.createComponent({render:function(){var l=this.props.likeAction?"Like":"Unlike",m=i.getTrackingInfo(this.props.likeAction?i.types.LIKE_LINK:i.types.UNLIKE_LINK),n=this.props.likeAction?"Like this item":"Stop liking this item";return (g.a({className:"UFILikeLink",href:"#",title:n,onClick:this.props.onClick,'data-ft':m,children:l}));}});e.exports=k;});
__d("UFIUserActions",["AsyncResponse","DOM","ImmutableObject","JSLogger","Nectar","UFICentralUpdates","UFIClientIDs","UFIComments","UFIConstants","UFIFeedbackTargets","MercuryServerDispatcher","collectDataAttributes","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('AsyncResponse'),h=b('DOM'),i=b('ImmutableObject'),j=b('JSLogger'),k=b('Nectar'),l=b('UFICentralUpdates'),m=b('UFIClientIDs'),n=b('UFIComments'),o=b('UFIConstants'),p=b('UFIFeedbackTargets'),q=b('MercuryServerDispatcher'),r=b('collectDataAttributes'),s=b('copyProperties'),t=b('tx'),u=j.create('UFIUserActions'),v={BAN:'ban',UNDO_BAN:'undo_ban'},w={changeCommentLike:function(ha,ia,ja){var ka=n.getComment(ha);if(ka.hasviewerliked!=ia){var la=x(ja.target),ma=ia?1:-1,na={commentid:ha,actiontype:o.UFIActionType.COMMENT_LIKE,viewerliked:ia,likecount:ka.likecount+ma};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[na]});q.trySend('/ajax/ufi/comment_like.php',s({comment_id:ha,legacy_id:ka.legacyid,like_action:ia,ft_ent_identifier:ka.ftentidentifier,source:ja.source,client_id:m.getNewClientID()},la));}},addComment:function(ha,ia,ja,ka){p.getFeedbackTarget(ha,function(la){var ma=x(ka.target),na=m.getNewClientID();if(!la.actorforpost)return;var oa={ftentidentifier:ha,body:{text:ia},author:la.actorforpost,id:na,islocal:true,ufiinstanceid:ka.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:ka.replyid,timestamp:{time:Date.now(),text:"a few seconds ago"}};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[oa]});var pa=null;if(ka.replyid)pa=(n.getComment(ka.replyid)).fbid;q.trySend('/ajax/ufi/add_comment.php',s({ft_ent_identifier:la.entidentifier,comment_text:ja,source:ka.source,client_id:na,reply_fbid:pa,parent_comment_id:ka.replyid,timeline_log_data:ka.timelinelogdata},ma));});},editComment:function(ha,ia,ja,ka){var la=x(ka.target),ma=n.getComment(ha);ma=i.set(ma,{status:o.UFIStatus.PENDING_EDIT,body:{text:ia},timestamp:{time:Date.now(),text:"a few seconds ago",original:ma.timestamp.time},editnux:null,attachment:null});l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[ma]});q.trySend('/ajax/ufi/edit_comment.php',s({ft_ent_identifier:ma.ftentidentifier,comment_text:ja,source:ka.source,comment_id:ma.id,parent_comment_id:ma.parentcommentid},la));},translateComment:function(ha,ia){q.trySend('/ajax/ufi/translate_comment.php',{ft_ent_identifier:ha.ftentidentifier,comment_ids:[ha.id],source:ia.source});},setHideAsSpam:function(ha,ia,ja){var ka=x(ja.target),la=n.getComment(ha),ma={commentid:ha,actiontype:o.UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:ia};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[ma]});q.trySend('/ajax/ufi/comment_spam.php',s({comment_id:ha,spam_action:ia,ft_ent_identifier:la.ftentidentifier,source:ja.source},ka));},removeComment:function(ha,ia){var ja=x(ia.target),ka=n.getComment(ha),la={actiontype:o.UFIActionType.DELETE_COMMENT,commentid:ha,oneclick:ia.oneclick};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[la]});q.trySend('/ajax/ufi/delete_comment.php',s({comment_id:ka.id,comment_legacyid:ka.legacyid,ft_ent_identifier:ka.ftentidentifier,one_click:ia.oneclick,source:ia.source,timeline_log_data:ia.timelinelogdata},ja));},undoRemoveComment:function(ha,ia,ja){var ka=n.getComment(ha);if(!ka.undoData){u.error('noundodata',{comment:ha});return;}var la=x(ja.target),ma={actiontype:o.UFIActionType.UNDO_DELETE_COMMENT,commentid:ha};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[ma]});var na=ka.undoData;na.page_admin=ia;var oa=s(la,na);q.trySend('/ajax/ufi/undo_delete_comment.php',oa);},banUser:function(ha,ia,ja,ka){var la=ja?v.BAN:v.UNDO_BAN;q.trySend('/ajax/ufi/ban_user.php',{page_id:ia,commenter_id:ha.author,action:la,comment_id:ha.id,client_side:true});},changeLike:function(ha,ia,ja){p.getFeedbackTarget(ha,function(ka){var la=x(ja.target);if(ka.hasviewerliked!==ia){var ma=ia?1:-1,na={actiontype:o.UFIActionType.LIKE_ACTION,actorid:ka.actorforpost,hasviewerliked:ia,likecount:ka.likecount+ma,entidentifier:ha,likesentences:{current:ka.likesentences.alternate,alternate:ka.likesentences.current}};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[na]});q.trySend('/ajax/ufi/like.php',s({like_action:ia,ft_ent_identifier:ha,source:ja.source,client_id:m.getNewClientID()},la));}});},fetchSpamComments:function(ha,ia){q.trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:ha,comment_ids:ia,source:null});},removePreview:function(ha,ia){var ja=x(ia.target),ka={commentid:ha.id,actiontype:o.UFIActionType.REMOVE_PREVIEW};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[ka]});q.trySend('/ajax/ufi/remove_preview.php',s({comment_id:ha.id,ft_ent_identifier:ha.ftentidentifier,source:ia.source},ja));}};function x(ha){if(!ha)return {ft:{}};var ia={ft:r(ha,['ft']).ft};k.addModuleData(ia,ha);return ia;}function y(ha){var ia=ha.request.data;g.defaultErrorHandler(ha);var ja=ia.client_id||ia.comment_id,ka=n.getComment(ja),la=(ka.status===o.UFIStatus.PENDING_EDIT)?o.UFIStatus.FAILED_EDIT:o.UFIStatus.FAILED_ADD,ma=ha.error!==1404074;ka=i.setDeep(ka,{status:la,allowretry:ma,body:{mentionstext:ia.comment_text}});l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[ka]});}function z(ha){var ia=ha.request.data,ja=ia.comment_id,ka=n.getComment(ja);ka=i.set(ka,{status:ka.priorstatus||null,priorstatus:undefined});l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[ka]});}function aa(ha){var ia=ha.request.data,ja=ia.comment_id,ka=n.getComment(ja);if(ia.like_action===ka.hasviewerliked){var la=ka.hasviewerliked?-1:1,ma={commentid:ja,actiontype:o.UFIActionType.COMMENT_LIKE,viewerliked:!ka.hasviewerliked,likecount:ka.likecount+la};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[ma]});}g.defaultErrorHandler(ha);}function ba(ha){var ia=ha.request.data,ja=ia.ft_ent_identifier;p.getFeedbackTarget(ja,function(ka){if(ka.hasviewerliked===ia.like_action){var la=ka.hasviewerliked?-1:1,ma={actiontype:o.UFIActionType.LIKE_ACTION,actorid:ka.actorforpost,hasviewerliked:!ka.hasviewerliked,likecount:ka.likecount+la,entidentifier:ja,likesentences:{current:ka.likesentences.alternate,alternate:ka.likesentences.current}};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[ma]});}});g.defaultErrorHandler(ha);}var ca=function(ha){return l.handleUpdate.bind(l,ha);},da=o.UFIPayloadSourceType;q.registerEndpoints({'/ajax/ufi/comment_like.php':{mode:q.BATCH_CONDITIONAL,handler:ca(da.ENDPOINT_COMMENT_LIKE),error_handler:aa,batch_if:ea,batch_function:ga},'/ajax/ufi/comment_spam.php':{mode:q.IMMEDIATE,handler:ca(da.ENDPOINT_COMMENT_SPAM),error_handler:z},'/ajax/ufi/add_comment.php':{mode:q.IMMEDIATE,handler:ca(da.ENDPOINT_ADD_COMMENT),error_handler:y},'/ajax/ufi/delete_comment.php':{mode:q.IMMEDIATE,handler:ca(da.ENDPOINT_DELETE_COMMENT),error_handler:z},'/ajax/ufi/undo_delete_comment.php':{mode:q.IMMEDIATE,handler:ca(da.ENDPOINT_UNDO_DELETE_COMMENT),error_handler:z},'/ajax/ufi/ban_user.php':{mode:q.IMMEDIATE,handler:ca(da.ENDPOINT_BAN)},'/ajax/ufi/edit_comment.php':{mode:q.IMMEDIATE,handler:ca(da.ENDPOINT_EDIT_COMMENT),error_handler:y},'/ajax/ufi/like.php':{mode:q.BATCH_CONDITIONAL,handler:ca(da.ENDPOINT_LIKE),error_handler:ba,batch_if:fa,batch_function:ga},'/ajax/ufi/id_comment_fetch.php':{mode:q.IMMEDIATE,handler:ca(da.ENDPOINT_ID_COMMENT_FETCH)},'/ajax/ufi/remove_preview.php':{mode:q.IMMEDIATE,handler:ca(da.ENDPOINT_REMOVE_PREVIEW)},'/ajax/ufi/translate_comment.php':{mode:q.IMMEDIATE,handler:ca(da.ENDPOINT_TRANSLATE_COMMENT)}});function ea(ha,ia){return ha&&ha.ft_ent_identifier==ia.ft_ent_identifier&&ha.comment_id==ia.comment_id;}function fa(ha,ia){return ha&&ha.ft_ent_identifier==ia.ft_ent_identifier;}function ga(ha,ia){return ia;}e.exports=w;});
__d("UFIActionLinkController",["ReactDOM","event-extensions","Arbiter","CSS","DOMQuery","Parent","React","UFIBlingBox","UFICentralUpdates","UFIComments","UFILikeLink","UFIFeedbackTargets","UFITrackingNodes","UFIUserActions","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('CSS'),i=b('DOMQuery'),j=b('Parent'),k=b('React'),l=b('UFIBlingBox'),m=b('UFICentralUpdates'),n=b('UFIComments'),o=b('UFILikeLink'),p=b('UFIFeedbackTargets'),q=b('UFITrackingNodes'),r=b('UFIUserActions'),s=b('copyProperties');function t(v,w,x){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var y=i.scry(v,w)[0];if(y){var z=document.createElement('span');y.parentNode.replaceChild(z,y);z.appendChild(y);if(typeof x==="function")x(z);}else var aa=g.subscribe('PhotoSnowlift.DATA_CHANGE',function(){g.unsubscribe(aa);t(v,w,x);},g.SUBSCRIBE_NEW);}var u=function(v,w,x){this._id=w.ftentidentifier;this._source=w.source;this._contextArgs=w;this._ufiRoot=v;this._attemptInitializeBling();if(x.viewercanlike)this._attemptInitializeLike();m.subscribe('feedback-updated',function(y,z){var aa=z.updates;if(this._id in aa)this.render();}.bind(this));m.subscribe('feedback-id-changed',function(y,z){var aa=z.updates;if(this._id in aa)this._id=aa[this._id];}.bind(this));};s(u.prototype,{_attemptInitializeBling:function(){t(this._ufiRoot,'^form .uiBlingBox',function(v){this._blingRoot=v;if(this._dataReady)this._renderBling();}.bind(this));},_attemptInitializeLike:function(){t(this._ufiRoot,'^form .like_link',function(v){this._likeRoot=v;if(this._dataReady)this._renderLike();}.bind(this));},render:function(){this._dataReady=true;this._renderBling();this._renderLike();},_renderBling:function(){if(this._blingRoot)p.getFeedbackTarget(this._id,function(v){var w=function(event){var z=j.byTag(event.target,"form");h.toggleClass(z,"collapsed_comments");h.toggleClass(z,"hidden_add_comment");event.preventDefault();}.bind(this),x=q.getTrackingInfo(q.types.BLINGBOX),y=l({likes:v.likecount,comments:n.getDisplayedCommentCount(this._id),reshares:v.sharecount,permalink:v.permalink,contextArgs:this._contextArgs,onClick:w,'data-ft':x});this._blingBox=k.renderOrUpdateComponent(y,this._blingRoot);}.bind(this));},_renderLike:function(){if(this._likeRoot)p.getFeedbackTarget(this._id,function(v){var w=!v.hasviewerliked,x=function(event){r.changeLike(this._id,w,{source:this._source,target:event.target});}.bind(this),y=o({onClick:x,likeAction:w});this._likeLink=k.renderOrUpdateComponent(y,this._likeRoot);}.bind(this));}});e.exports=u;});
__d("Layout",["keyMirror"],function(a,b,c,d,e,f){var g=b('keyMirror'),h={small:true,medium:true,large:true,none:true},i={small:true,medium:true,large:true,huge:true},j={none:true,medium:true,light:true,dark:true},k={dark:true,inverted:true,standard:true},l={top:true,middle:true,bottom:true},m={left:true,center:true,right:true},n={horizontal:true,vertical:true},o={spacing:g(h),size:g(i),boldness:g(j),appearance:g(k),direction:g(n),vAlign:g(l),hAlign:g(m)};e.exports=o;});
__d("LeftRight",["ReactDOM","React","ReactErrors","ReactUtils"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('ReactErrors'),j=b('ReactUtils'),k=j.keyMirror({left:true,right:true,both:true});function l(n){i.throwIf(!n.children||n.children.length<1||n.children.length>2,"LeftRight component must have one or two children.");}var m=h.createComponent({render:function(){l(this.props);var n=this.props.direction||k.both,o=[{clearfix:true},this.props.classSet],p={lfloat:n===k.left||n===k.both},q={rfloat:n===k.right||n===k.both},r=g.div({classSet:p,children:this.props.children[0]}),s=(this.props.children.length<2)?null:g.div({classSet:q,children:this.props.children[1]}),t=(n===k.right&&s)?[s,r]:[r,s],u=g.div({classSet:o,children:t});u.props=j.merge(this.props,u.props);return u;}});m.DIRECTION=k;e.exports=m;});
__d("ImageBlock",["ReactDOM","Layout","LeftRight","React","ReactUtils","ReactErrors","cx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('Layout'),i=b('LeftRight'),j=b('React'),k=b('ReactUtils'),l=b('ReactErrors'),m=b('cx'),n=h.spacing;function o(s){l.throwIf(!s.children||s.children.length>3||s.children.length<1,"ImageBlock requires two or three children.");}function p(s){var t={img:true};t._8o=true;t._8r=s===n.small;t._8s=s===n.medium;t._8t=s===n.large;return t;}function q(s,t){s.props.classSet=[p(t),s.props.classSet];}var r=j.createComponent({render:function(){o(this.props);var s=this.props.children[0],t=this.props.children[1],u=this.props.children[2],v=this.props.spacing||n.small;q(s,v);var w={};w._8m=true;w._8u=v===n.small;if(s.tagName=='IMG'){if(s.props.alt===undefined)s.props.alt='';}else if((s.tagName=='A'||s.tagName=='LINK')&&s.props.tabIndex===undefined&&s.props.title===undefined&&s.props['aria-label']===undefined){s.props.tabIndex='-1';s.props['aria-hidden']='true';}var x;if(!u){x=g.div({classSet:w,children:t});}else x=i({classSet:w,direction:i.DIRECTION.right,children:[t,u]});var y=i({classSet:this.props.classSet,direction:i.DIRECTION.left,children:[s,x]});y.props=k.merge(this.props,y.props);return y;}});e.exports=r;});
__d("ReactLegacyMentionsInput",["ReactDOM","event-extensions","PlaceholderListener","Bootloader","Keys","React"],function(a,b,c,d,e,f){var g=b('ReactDOM');b('event-extensions');b('PlaceholderListener');var h=b('Bootloader'),i=b('Keys'),j=b('React'),k=b('event-extensions').$E,l=j.createComponent({onDomReady:function(m){this.props.initialData&&this._initializeTextarea(m);},_handleKeydown:function(event){var m=event.nativeEvent,n=this.props.onEnterSubmit,o=Event.getKeyCode(m)==i.RETURN&&!k(m).getModifiers().any,p=this._mentionsInput&&this._mentionsInput.getTypeahead().getView().getSelection();if(n&&o&&!p){var q=event.target,r=q.value&&q.value.trim();if(r||this.props.acceptEmptyInput){var s={visibleValue:r,encodedValue:r};if(this._mentionsInput){s.encodedValue=this._mentionsInput.getRawValue().trim();this._mentionsInput.reset({flattened:''});}n(s,event);}event.preventDefault();}},_handleFocus:function(){this.props.onFocus&&this.props.onFocus();this._initializeTextarea(this.refs.root.getDOMNode());},_initializeTextarea:function(m){if(this._mentionsInput||this._bootloadingMentions)return;this._bootloadingMentions=true;h.loadModules(['CompactTypeaheadRenderer','ContextualTypeaheadView','InputSelection','MentionsInput','TextAreaControl','Typeahead','TypeaheadAreaCore','TypeaheadBestName','TypeaheadHoistFriends','TypingDetector'],function(n,o,p,q,r,s,t,u,v,w){var x=this.refs.textarea.getDOMNode();new r(x);if(this.props.onTypingStateChange){var y=new w(x);y.init();y.subscribe('change',this.props.onTypingStateChange);}var z={autoSelect:true,renderer:n},aa=new s(this.props.datasource,{ctor:o,options:z},{ctor:t},this.refs.typeahead.getDOMNode());aa.init([u,v]);this._mentionsInput=new q(m,aa,x,{});this._mentionsInput.init({max:6},this.props.initialData);if(this.props.initialData)p.set(x,x.value.length);this._bootloadingMentions=false;}.bind(this));},render:function(){var m={textInput:true,mentionsTextarea:true,uiTextareaAutogrow:true,uiTextareaNoResize:true,UFIAddCommentInput:true,DOMControl_placeholder:true};return (g.div({ref:"root",className:"uiMentionsInput textBoxContainer ReactLegacyMentionsInput",children:[g.div({className:"highlighter",children:g.div({children:g.span({className:"highlighterContent hidden_elem"})})}),g.div({ref:"typeahead",className:"uiTypeahead mentionsTypeahead",children:g.div({className:"wrap",children:[g.input({type:"hidden",autocomplete:"off",className:"hiddenInput"}),g.div({className:"innerWrap",children:g.textarea({ref:"textarea",name:"add_comment_text",classSet:m,title:this.props.placeholder,content:this.props.placeholder,placeholder:this.props.placeholder,onFocus:this._handleFocus.bind(this),onKeyDown:this._handleKeydown.bind(this)})})]})}),g.input({type:"hidden",autocomplete:"off",className:"mentionsHidden",value:""})]}));}});e.exports=l;});
__d("UFIClassSets",["cx"],function(a,b,c,d,e,f){var g=b('cx'),h={img:true,UFIActorImage:true};h._rx=true;var i={UFIRow:true},j={UFIUnseenItem:true};e.exports={ROW:i,ACTOR_IMAGE:h,UNSEEN_ITEM:j};});
__d("UFIAddComment",["ReactDOM","event-extensions","ImageBlock","Keys","React","ReactLegacyMentionsInput","UFIClassSets","UFITrackingNodes","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM');b('event-extensions');var h=b('ImageBlock'),i=b('Keys'),j=b('React'),k=b('ReactLegacyMentionsInput'),l=b('UFIClassSets'),m=b('UFITrackingNodes'),n=b('tx'),o="Write a comment...",p="Write a reply...",q={UFICommentTip:true,fcg:true,fss:true},r={UFITextReplyDimensions:true},s=j.createComponent({getInitialState:function(){return {isCommenting:false};},_onKeyDown:function(event){if(this.props.isEditing&&Event.getKeyCode(event.nativeEvent)===i.ESC)this.props.onCancel();},render:function(){var t=!this.props.contextArgs.collapseaddcomment||this.state.isCommenting,u=null;if(this.props.isEditing){u=g.span({classSet:q,children:"Press Esc to cancel."});}else if(this.props.showSendOnEnterTip)u=g.span({classSet:q,children:"Press Enter to post."});var v=m.getTrackingInfo(m.types.ADD_COMMENT_BOX),w=[l.ACTOR_IMAGE,{hidden_elem:!t}],x=[l.ROW,{UFIAddComment:true,noDisplay:this.props.hide},{UFICommentReply:this.props.replyCommentID}],y={UFIMentionsInputWrap:true},z=!!this.props.replyCommentID?p:o;return (g.li({classSet:x,onKeyDown:this._onKeyDown.bind(this),'data-ft':v,children:h({classSet:y,children:[g.img({classSet:w,src:this.props.viewerActor.thumbSrc}),g.div({children:[k({initialData:this.props.initialData,placeholder:z,wrapperClassSet:r,datasource:this.props.mentionsDataSource,acceptEmptyInput:this.props.isEditing,onEnterSubmit:this.props.onCommentSubmit,onFocus:this.createStateUpdater({isCommenting:true}),onTypingStateChange:this.props.onTypingStateChange}),u]})]})}));}});e.exports=s;});
__d("UFIAddCommentController",["ReactDOM","Arbiter","copyProperties","MentionsInputUtils","Parent","UFIAddComment","React","ShortProfiles","UFICentralUpdates","UFIComments","UFIFeedbackTargets","UFIInstanceState","UFIUserActions"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('copyProperties'),i=b('MentionsInputUtils'),j=b('Parent'),k=b('UFIAddComment'),l=b('React'),m=b('ShortProfiles'),n=b('UFICentralUpdates'),o=b('UFIComments'),p=b('UFIFeedbackTargets'),q=b('UFIInstanceState'),r=b('UFIUserActions');function s(t,u,v,w){this.id=u;this._ufiInstanceID=w.instanceid;this._contextArgs=w;this._replyCommentID=v;if(t){this.root=t;this.render();n.subscribe('instance-updated',function(x,y){var z=y.updates;if(this._ufiInstanceID in z)this.render();}.bind(this));}n.subscribe('feedback-id-changed',function(x,y){var z=y.updates;if(this.id in z)this.id=z[this.id];}.bind(this));}h(s.prototype,{_onCommentSubmit:function(t,event){r.addComment(this.id,t.visibleValue,t.encodedValue,{source:this._contextArgs.source,ufiinstanceid:this._ufiInstanceID,target:event.target,replyid:this._replyCommentID,timelinelogdata:this._contextArgs.timelinelogdata});p.getFeedbackTarget(this.id,function(v){if(v.isranked&&this._replyCommentID===null)q.updateState(this._ufiInstanceID,'scrolloninsert',true);}.bind(this));var u=j.byTag(this.root,'form');if(u)g.inform('ufi/comment',{form:u});return false;},_onTypingStateChange:function(t,u){},renderAddComment:function(t,u,v){var w=this._contextArgs.logtyping?this._onTypingStateChange.bind(this):null,x=null,y=q.getKeyForInstance(this._ufiInstanceID,'isediting')&&!this._replyCommentID;return (k({hide:y,replyCommentID:this._replyCommentID,viewerActor:t,initialData:x,onCommentSubmit:this._onCommentSubmit.bind(this),mentionsDataSource:u,onTypingStateChange:w,showSendOnEnterTip:v,source:this._contextArgs.source,contextArgs:this._contextArgs}));},renderEditComment:function(t,u,v,w,x){var y=o.getComment(u),z=i.generateDataFromTextWithEntities(y.body);return (k({viewerActor:t,initialData:z,onCommentSubmit:w,onCancel:x,mentionsDataSource:v,source:this._contextArgs.source,contextArgs:this._contextArgs,isEditing:true}));},render:function(){if(!this.root)throw new Error('render called on UFIAddCommentController with no root');p.getFeedbackTarget(this.id,function(t){if(t.cancomment&&t.actorforpost)m.get(t.actorforpost,function(u){var v=this.renderAddComment(u,t.mentionsdatasource,t.showsendonentertip);this._addComment=l.renderOrUpdateComponent(v,this.root);}.bind(this));}.bind(this));}});e.exports=s;});
__d("ReactLegacyScrollableArea",["ReactDOM","Bootloader","React","Style"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('Bootloader'),i=b('React'),j=b('Style'),k={uiScrollableArea:true,'native':true},l={uiScrollableAreaWrap:true},m={uiScrollableAreaBody:true},n={uiScrollableAreaContent:true},o=i.createComponent({render:function(){var p={height:this.props.height?this.props.height+'px':'auto'};return (g.div({classSet:k,ref:"root",style:p,children:g.div({classSet:l,children:g.div({classSet:m,ref:"body",children:g.div({classSet:n,children:this.props.children})})})}));},onDomReady:function(){h.loadModules(['ScrollableArea'],this._loadScrollableArea.bind(this));},_loadScrollableArea:function(p){this._area=p.fromNative(this.refs.root.getDOMNode(),{fade:this.props.fade,persistent:this.props.persistent});var q=this.refs.body.getDOMNode();j.set(q,'width',this.props.width+'px');this.props.onScroll&&this._area.subscribe('scroll',this.props.onScroll);}});e.exports=o;});
__d("CloseButton",["ReactDOM","Layout","React","ReactUtils","$"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('Layout'),i=b('React'),j=b('ReactUtils'),k=b('$'),l=i.createComponent({render:function(){var m=this.props,n=m.size||h.size.medium,o=m.appearance||h.appearance.normal,p=n===h.size.small,q=n===h.size.huge,r=o===h.appearance.dark,s=o===h.appearance.inverted,t={uiCloseButton:true,uiCloseButtonSmall:p,uiCloseButtonHuge:q,uiCloseButtonSmallDark:p&&r,uiCloseButtonSmallInverted:p&&s,uiCloseButtonDark:!p&&r,uiCloseButtonInverted:!p&&s},u=[t,m.classSet],v=(g.a({title:m.tooltip,'data-hover':m.tooltip&&'tooltip','data-tooltip-alignh':m.tooltip&&'center',classSet:u}));v.props=j.merge(m,v.props);return v;}});e.exports=l;});
__d("HovercardLinkInterpolator",["ReactDOM","HovercardLink","Link"],function(a,b,c,d,e,f){var g=b('HovercardLink'),h=b('Link');function i(j,k){var l=k.entities[0],m=h({href:l,content:j});if(!l.external)m.props['data-hovercard']=g.constructEndpoint(l).toString();return m;}e.exports=i;});
__d("LinkButton",["ReactDOM"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=function(i){var j=i.name&&i.value?i.name+'['+encodeURIComponent(i.value)+']':null;return (g.label({classSet:{uiLinkButton:true,uiLinkButtonSubtle:i.subtle,async_throbber:i.showSaving},children:g.input({type:i.inputType||'button',name:j,value:i.label,classSet:{stat_elem:i.showSaving}})}));};e.exports=h;});
__d("ProfileBrowserLink",["URI"],function(a,b,c,d,e,f){var g=b('URI'),h='/ajax/browser/dialog/',i='/browse/',j=function(l,m,n){return new g(l+m).setQueryData(n);},k={constructPageURI:function(l,m){return j(i,l,m);},constructDialogURI:function(l,m){return j(h,l,m);}};e.exports=k;});
__d("ProfileBrowserTypes",[],function(a,b,c,d,e,f){var g={LIKES:'likes',GROUP_MESSAGE_VIEWERS:'group_message_viewers',MUTUAL_FRIENDS:'mutual_friends'};e.exports=g;});
__d("Timestamp",["ReactDOM","event-extensions","LiveTimer","React"],function(a,b,c,d,e,f){var g=b('ReactDOM');b('event-extensions');var h=b('LiveTimer'),i=b('React'),j=i.createComponent({render:function(){var k=h.renderRelativeTimeToServer(this.props.time),l=k.text;if(!l)l=this.props.text;var m={livetimestamp:true};m[this.props.className]=true;return (g.abbr({classSet:m,title:this.props.verbose,'data-utime':this.props.time,content:l}));}});e.exports=j;});
__d("ReactTextWithEmoticons",["ReactDOM","Emoji","Emote","React"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('Emoji'),i=b('Emote'),j=b('React'),k=j.createComponent({render:function(){if(!this.props.renderEmoticons&&!this.props.renderEmoji)return g.span({content:this.props.text});var l;if(this.props.renderEmoticons&&this.props.renderEmoji){l=h.htmlEmoji(this.props.text,i.htmlEmoteWithoutFBID);}else if(this.props.renderEmoticons){l=i.htmlEmoteWithoutFBID(this.props.text);}else l=h.htmlEmoji(this.props.text);return g.span({dangerouslySetInnerHtml:{__html:l}});}});e.exports=k;});
__d("ReactTextWithEntities",["ReactDOM","Link","React","ReactTextWithEmoticons"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('Link'),i=b('React'),j=b('ReactTextWithEmoticons');function k(q){return (q).replace(/<3\b|&hearts;/g,'\u2665');}function l(q,r){return (h({href:r.entities[0],children:[q]}));}function m(q,r){return q.offset-r.offset;}function n(q){return !!q;}var o=/(\r\n|[\r\n])/,p=i.createComponent({_formatStandardText:function(q){var r=q.split(o),s=[];for(var t=0;t<r.length;t++){var u=r[t];if(u)if(o.test(u)){s.push(g.br({}));}else if(this.props.renderEmoticons||this.props.renderEmoji){s.push(j({text:u,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}));}else s.push(k(u));}return s;},render:function(){var q=0,r=this.props.ranges,s=this.props.aggregatedRanges,t=this.props.text,u=null;if(r){u=s?r.concat(s):r.slice();}else if(s)u=s.slice();if(u)u.sort(m);var v=[],w=u?u.length:0;for(var x=0,y=w;x<y;x++){var z=u[x];if(z.offset<q)continue;if(z.offset>q)v=v.concat(this._formatStandardText(t.substring(q,z.offset)));var aa=t.substr(z.offset,z.length);v=v.concat([this.props.interpolator?this.props.interpolator(aa,z):l(aa,z)]);q=z.offset+z.length;}if(t.length>q)v=v.concat(this._formatStandardText(t.substr(q)));return g.span({classSet:this.props.classSet,children:v});}});e.exports=p;});
__d("SeeMore",["ReactDOM","React","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('tx'),j="...",k="See More",l={SeeMoreLink:true,fss:true},m=h.createComponent({getInitialState:function(){return {isCollapsed:true};},render:function(){var n=this.state.isCollapsed,o=!n?null:g.span({content:j}),p=this.props.children[0],q=n?null:g.span({children:this.props.children[1]}),r=!n?null:g.a({classSet:l,onClick:this.createStateUpdater({isCollapsed:false}),content:k});return (g.span({classSet:this.props.classSet,children:[p,o,r,q]}));}});e.exports=m;});
__d("TruncatedTextWithEntities",["ReactDOM","React","ReactTextWithEntities","SeeMore"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('ReactTextWithEntities'),j=b('SeeMore');function k(o,p){var q=o.offset+o.length;return p>o.offset&&p<q;}function l(o,p){for(var q=0;q<o.length;q++){var r=o[q];if(k(r,p))return r.offset;}return p;}var m=function(o,p,q){var r=[],s=[],t=l(p,q);for(var u=0;u<p.length;u++){var v=p[u];if(v.offset<t){r.push(v);}else s.push({offset:v.offset-t,length:v.length,entities:v.entities});}return {first:{ranges:r,text:o.substr(0,t)},second:{ranges:s,text:o.substr(t)}};},n=h.createComponent({render:function(){var o=this.props.maxLines,p=this.props.maxLength,q=this.props.truncationPercent||.6,r=Math.floor(q*p),s=this.props.text||'',t=this.props.ranges||[],u=s.split('\n'),v=u.length-1,w=p&&s.length>p,x=o&&v>o;if(x)r=Math.min(u.slice(0,o).join('\n').length,r);if(w||x){var y=m(s,t,r);return (g.span({'data-ft':this.props['data-ft'],dir:this.props.dir,children:j({classSet:this.props.classSet,children:[i({interpolator:this.props.interpolator,ranges:y.first.ranges,text:y.first.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}),i({interpolator:this.props.interpolator,ranges:y.second.ranges,text:y.second.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})]})}));}else return (g.span({'data-ft':this.props['data-ft'],dir:this.props.dir,children:i({classSet:this.props.classSet,interpolator:this.props.interpolator,ranges:t,text:s,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})}));}});e.exports=n;});
__d("UFIReplyUtil",["UFIAddCommentController","UFIInstanceState"],function(a,b,c,d,e,f){var g=b('UFIAddCommentController'),h=b('UFIInstanceState'),i={replyComposerUsersName:'REPLY_COMPOSER_INSTANCE_FIELD',renderReplyComposer:function(j,k){return (new g(null,j.props.id,k.id,j.props.contextArgs)).renderAddComment(j.props.authorProfiles[j.props.feedback.actorforpost],j.props.feedback.mentionsdatasource);},onCommentReply:function(j){var k=j.comment,l=k.parentcommentid||k.id;h.updateState(j.contextArgs.instanceid,i.replyComposerUsersName,l);}};e.exports=i;});
__d("UFIReplyLink",["ReactDOM","React","UFIReplyUtil","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('UFIReplyUtil'),j=b('tx'),k=h.createComponent({render:function(){return (g.a({onClick:i.onCommentReply.bind(null,this.props),children:"Reply"}));}});e.exports=k;});
__d("UFISpamCount",["UFISpamCountImpl"],function(a,b,c,d,e,f){e.exports=c('UFISpamCountImpl').module||{enabled:false};});
__d("UFIComment",["ReactDOM","function-extensions","Bootloader","CloseButton","Env","HovercardLink","HovercardLinkInterpolator","ImageBlock","Layout","LeftRight","LinkButton","ProfileBrowserLink","ProfileBrowserTypes","React","ReactUtils","Timestamp","TruncatedTextWithEntities","UFIClassSets","UFIConstants","UFIInstanceState","UFIReplyLink","UFISpamCount","UFITrackingNodes","URI","tx","UFIConfig"],function(a,b,c,d,e,f){var g=b('ReactDOM');b('function-extensions');var h=b('Bootloader'),i=b('CloseButton'),j=b('Env'),k=b('HovercardLink'),l=b('HovercardLinkInterpolator'),m=b('ImageBlock'),n=b('Layout'),o=b('LeftRight'),p=b('LinkButton'),q=b('ProfileBrowserLink'),r=b('ProfileBrowserTypes'),s=b('React'),t=b('ReactUtils'),u=b('Timestamp'),v=b('TruncatedTextWithEntities'),w=b('UFIClassSets'),x=b('UFIConstants'),y=b('UFIInstanceState'),z=b('UFIReplyLink'),aa=b('UFISpamCount'),ba=x.UFIStatus,ca=b('UFITrackingNodes'),da=b('URI'),ea=b('tx'),fa=c('UFIConfig'),ga=' \u00b7 ',ha={UFICommentBody:true},ia={UFICommentActorName:true},ja={UFICommentNotSpamLink:true},ka=t.keyMirror({edit:true,hide:true,remove:true}),la={UFICommentActions:true,fsm:true,fwn:true,fcg:true},ma={UFIFailureMessage:true},na={UFIFailureMessageIcon:true},oa={UFITranslateLink:true},pa={UFITranslatedText:true},qa={UFICommentLikeButton:true},ra={UFICommentLikeIcon:true},sa={UFICommentReplyButton:true},ta={UFICommentReplyIcon:true},ua={UFICommentBlingBox:true},va={uiLinkSubtle:true},wa={stat_elem:true},xa={pls:true},ya={fcg:true},za=27,ab=null,bb=function(kb,lb){var mb=new da('/ajax/like/tooltip.php').setQueryData({comment_fbid:kb.fbid,comment_from:kb.author,cache_buster:kb.likeconfirmhash||0});if(lb)mb.addQueryData({viewas:lb});return mb;},cb=function(kb){var lb=kb.status;return lb===ba.FAILED_ADD||lb===ba.FAILED_EDIT;};function db(kb){return kb.commenterIsFOF!==undefined&&kb.userIsMinor!==undefined&&kb.reportLink!==undefined;}var eb=s.createComponent({render:function(){var kb=this.props.comment,lb=kb.likecount||0,mb=r.LIKES,nb={id:kb.fbid},ob=bb(this.props.comment,this.props.viewas),pb,qb;if(this.props.contextArgs.entstream){if(lb===1){qb="1 Like";}else qb=ea._("{count} Likes",{count:lb});}else{pb=g.i({classSet:ra});qb=g.span({content:lb});}return (g.a({classSet:qa,rel:"dialog",'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':ob.toString(),ajaxify:q.constructDialogURI(mb,nb).toString(),href:q.constructPageURI(mb,nb).toString(),children:[pb,qb]}));}}),fb=s.createComponent({render:function(){var kb=this.props.comment,lb=this.props.onToggleReplies,mb=kb.likecount||0,nb=kb.replycount||0,ob,pb;if(mb>0)ob=eb({comment:kb,viewas:this.props.viewas,contextArgs:this.props.contextArgs});if(nb>0)pb=g.a({classSet:sa,title:"Show Replies",'data-hover':"tooltip",'data-tooltip-alignh':"center",onClick:lb,children:[g.i({classSet:ta}),g.span({content:nb})]});return (g.div({classSet:ua,children:[ob,pb]}));}}),gb=s.createComponent({render:function(){var kb=this.props,lb=kb.comment,mb=kb.feedback,nb=kb.markedAsSpamHere,ob=lb.status===ba.SPAM_DISPLAY,pb=this.props.showReplyLink,qb,rb,sb,tb,ub,vb,wb;if(!lb.islocal){if(ob&&!nb){if(kb.viewerCanMarkNotSpam)qb=[ga,g.a({onClick:kb.onMarkAsNotSpam,classSet:ja,content:"Not Spam"})];}else{if(mb.viewercanlike){var xb=ca.getTrackingInfo(lb.hasviewerliked?ca.types.UNLIKE_LINK:ca.types.LIKE_LINK),yb=lb.hasviewerliked?"Unlike this comment":"Like this comment";rb=[ga,g.a({href:"#",role:"button",onClick:kb.onCommentLikeToggle,'data-ft':xb,title:yb,content:lb.hasviewerliked?"Unlike":"Like"})];}if(mb.isthreaded){if(mb.cancomment&&pb)vb=[ga,z({comment:lb,contextArgs:kb.contextArgs})];if(lb.likecount>0||lb.replycount>0)tb=fb({comment:lb,viewas:this.props.viewas,onToggleReplies:this.props.onBlingBoxClick,contextArgs:this.props.contextArgs});}else if(lb.likecount)sb=[ga,eb({comment:lb,viewas:this.props.viewas,contextArgs:this.props.contextArgs})];if(lb.spamcount&&aa.enabled)ub=[ga,aa({count:lb.spamcount})];}if(lb.attachment&&lb.canremove)wb=[ga,g.a({onClick:kb.onPreviewRemove,content:"Remove Preview"})];}var zb=hb({comment:lb,onRetrySubmit:kb.onRetrySubmit,showPermalink:kb.showPermalink}),ac=[zb,rb,sb,ub,vb,qb,wb];if(mb.isthreaded){return (g.div({classSet:la,children:o({direction:o.DIRECTION.right,children:[ac,tb]})}));}else return (g.div({classSet:la,children:ac}));}}),hb=s.createComponent({render:function(){var kb=this.props.comment,lb=this.props.onRetrySubmit,mb,nb;if(cb(kb)){mb=[g.span({classSet:ma,children:[g.i({classSet:na}),"Unable to post comment."]}),kb.allowRetry&&lb?[' ',g.a({onClick:lb,children:"Try Again"})]:null];}else{var ob=this.props.showPermalink?kb.permalink:null,pb=ca.getTrackingInfo(ca.types.SOURCE),qb=g.a({classSet:va,href:ob,'data-ft':pb,children:u({time:kb.timestamp.time,text:kb.timestamp.text,verbose:kb.timestamp.verbose})}),rb;switch(kb.source){case x.UFISourceType.MOBILE:rb=g.a({classSet:va,href:new da('/mobile/').setSubdomain('www').toString(),content:"mobile"});break;case x.UFISourceType.SMS:rb=g.a({classSet:va,href:new da('/mobile/?v=texts').setSubdomain('www').toString(),content:"text message"});break;case x.UFISourceType.EMAIL:rb=p({subtle:true,label:"email",inputType:"submit",name:"email_explain",value:true,classSet:wa});break;}nb=rb?ea._("{time} via {source}",{time:qb,source:rb}):qb;}var sb=null;if(kb.timestamp.original){var tb=new da('/ajax/edits/browser/comment').addQueryData({comment_token:kb.id}).toString();sb=[ga,g.a({ref:"EditLink",href:"#",rel:"dialog",className:"uiLinkSubtle",ajaxify:tb,'data-hover':"tooltip",title:"Show edit history",content:"Edited"})];}return (g.span({children:[nb,mb,sb]}));},propTrigger:function(kb){var lb=this.props.comment,mb=kb.comment;if(!lb.editnux&&!!mb.editnux)h.loadModules(['ContextualDialogX'],function(nb){var ob=new nb();ob.init(mb.editnux).setContext(this.refs.EditLink.getDOMNode()).setWidth(300).setPosition('below').show();}.bind(this));}}),ib=s.createComponent({render:function(){var kb=this.props.topMutualFriend,lb=this.props.otherMutualCount,mb=this.props.commentAuthor,nb=k.constructEndpoint(kb).toString(),ob=g.a({href:kb.uri,content:kb.name,'data-hovercard':nb}),pb=mb.name.length+kb.name.length,qb;if(lb===0){qb=ea._("Friends with {name}",{name:ob});}else if(pb<za){var rb;if(lb==1){rb="1 other";}else rb=ea._("{count} others",{count:lb});qb=ea._("Friends with {name} and {others}",{name:ob,others:this.getOthersLink(rb,mb,kb)});}else{var sb=ea._("{count} mutual friends",{count:lb+1});qb=this.getOthersLink(sb,mb);}return (g.span({classSet:{UFICommentSocialContext:true},children:[ga,qb]}));},getOthersLink:function(kb,lb,mb){var nb=r.MUTUAL_FRIENDS,ob={uid:lb.id},pb=new da('/ajax/mutual_friends/tooltip.php').setQueryData({friend_id:lb.id});if(mb)pb.addQueryData({exclude_id:mb.id});var qb=q.constructDialogURI(nb,ob).toString();return (g.a({rel:"dialog",'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':pb.toString(),ajaxify:qb,href:q.constructPageURI(nb,ob).toString(),children:kb}));}}),jb=s.createComponent({getInitialState:function(){return {isHighlighting:this.props.comment.highlightcomment,wasHighlighted:this.props.comment.highlightcomment,markedAsSpamHere:false,oneClickRemovedHere:false,isInlinePageDeleted:false,isInlineBanned:false};},_onHideAsSpam:function(event){this.props.onHideAsSpam(event);this.updateState({markedAsSpamHere:true});},_onMarkAsNotSpam:function(event){this.props.onMarkAsNotSpam(event);this.updateState({markedAsSpamHere:false});},_onDeleteSpam:function(event){this.props.onOneClickRemove(event);this.updateState({isInlinePageDeleted:true});},_onUndoDeleteSpam:function(event){this.props.onUndoOneClickRemove(event);this.updateState({isInlinePageDeleted:false});},_onInlineBan:function(event){this.props.onInlineBan(event);this.updateState({isInlineBanned:true});},_onUndoInlineBan:function(event){this.props.onUndoInlineBan(event);this.updateState({isInlineBanned:false});},_onOneClickRemove:function(event){this.props.onOneClickRemove(event);this.updateState({oneClickRemovedHere:true});},_onUndoOneClickRemove:function(event){this.props.onUndoOneClickRemove(event);this.updateState({oneClickRemovedHere:false});},_onAction:function(event,kb){if(kb===ka.remove){this.props.onRemove(event);}else if(kb===ka.edit){this.props.onEdit(event);}else if(kb===ka.hide)this._onHideAsSpam(event);},_createRemoveReportMenu:function(event){if(this._removeReportMenu)return;var kb=[{label:"Delete Comment...",value:ka.remove},{label:"Hide Comment",value:ka.hide}];h.loadModules(['UFILegacyUtils'],function(lb){this._removeReportMenu=lb.createCommentMenu(event.target,kb,this._onAction.bind(this,event));}.bind(this));},_createEditDeleteMenu:function(event){if(this._editDeleteMenu)return;var kb=[{label:"Edit...",value:ka.edit},{label:"Delete...",value:ka.remove}];h.loadModules(['UFILegacyUtils'],function(lb){this._editDeleteMenu=lb.createCommentMenu(event.target,kb,this._onAction.bind(this,event));}.bind(this));},_renderCloseButton:function(){var kb=this.props.comment,lb=this.props.feedback,mb=null,nb=null,ob=false;if(kb.canremove&&!this.props.hideAsSpamForPageAdmin){if(this.props.viewerIsAuthor){if(kb.canedit){nb="Edit or Delete";mb=this._createEditDeleteMenu.bind(this);ob=true;}else{nb="Remove";mb=this.props.onRemove;}}else if(lb.canremoveall)if(this.props.showRemoveReportMenu){nb="Remove or Report";mb=this._createRemoveReportMenu.bind(this);}else{nb="Remove";mb=this._onOneClickRemove.bind(this);}}else if(kb.canreport){nb="Hide as Spam";mb=this._onHideAsSpam.bind(this);}var pb={UFICommentCloseButton:true,UFIEditButton:ob,hdn:mb===null};return (i({onClick:mb,tooltip:nb,classSet:pb}));},onDomReady:function(kb){var lb=y.getKeyForInstance(this.props.comment.ufiinstanceid,'scrolloninsert');if(this.state.isHighlighting||lb){h.loadModules(['UFIScrollHighlight'],function(mb){mb.actOn.curry(kb).defer();});this.updateState({isHighlighting:false});}},needsRedraw:function(kb){return kb.comment!==this.props.comment;},render:function(){var kb=this.props.comment,lb=this.props.feedback,mb=kb.status===ba.DELETED,nb=kb.status===ba.SPAM_DISPLAY,ob=kb.status===ba.PENDING_UNDO_DELETE,pb=this.state.markedAsSpamHere,qb=this.state.oneClickRemovedHere,rb=this.state.isInlinePageDeleted,sb=this.props.hideAsSpamForPageAdmin,tb=this.state.isInlineBanned,ub=this.props.isReply,vb=db(kb),wb=!kb.status&&(kb.isunseen||kb.islocal);if(!kb.status&&lb.lastseentime){var xb=kb.timestamp.original||kb.timestamp.time;wb=wb||xb>lb.lastseentime;}var yb=this.props.contextArgs.markedcomment;if(yb&&yb==kb.legacyid)wb=true;var zb=null;if(vb)if(ab){var ac,bc=null;if(sb){zb=tb?this._onUndoInlineBan.bind(this):this._onInlineBan.bind(this);if(rb){bc=this._onUndoDeleteSpam.bind(this);var cc=g.a({href:"#",content:"Undo",onClick:bc});ac=ea._("You've deleted this comment so no one can see it. {undo}.",{undo:cc});}else if(pb)ac=this.getPageAdminNotice();}else if(pb){ac="This comment has been hidden as spam.";bc=this._onMarkAsNotSpam.bind(this);}else if(qb){ac="This comment has been removed.";bc=this._onUndoOneClickRemove.bind(this);}if(ac)return (g.li({classSet:w.ROW,children:ab({notice:ac,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:bc,onBanAction:zb,isInlineBanned:tb,hideAsSpamForPageAdmin:sb})}));}else h.loadModules(['UFICommentRemovalControls'],function(ec){ab=ec;this.updateState.bind(this,{}).defer();}.bind(this));var dc=[w.ROW,{UFIRow:true,UFIComment:true,UFICommentFailed:cb(kb),UFITranslucentComment:mb||nb||ob,highlightComment:this.state.isHighlighting,noDisplay:mb&&!qb,UFICommentReply:ub}];if(wb)dc.push(w.UNSEEN_ITEM);return (g.li({classSet:dc,'data-ft':this.props['data-ft'],children:this.renderComment()}));},getPageAdminNotice:function(){var kb=g.a({href:"#",content:"Undo this",onClick:this._onMarkAsNotSpam.bind(this)}),lb=g.a({href:"#",content:"delete this comment",onClick:this._onDeleteSpam.bind(this)}),mb=ea._("You've hidden this comment so only the person who wrote it and their friends can see it. {undoThis} or {deleteThisComment}.",{undoThis:kb,deleteThisComment:lb});return mb;},renderComment:function(){var kb=this.props,lb=kb.comment,mb=kb.feedback,nb=kb.authorProfiles[lb.author],ob=lb.status===ba.SPAM_DISPLAY,pb=mb.canremoveall||lb.hiddenbyviewer,qb=null,rb=null;if(!kb.isLocallyComposed&&!this.state.wasHighlighted&&!lb.fromfetch){rb=x.commentTruncationLength;qb=x.commentTruncationMaxLines;}var sb;if(lb.attachment)sb=g.div({isStatic:true,dangerouslySetInnerHtml:lb.attachment.markup});var tb=ca.getTrackingInfo(ca.types.SMALL_ACTOR_PHOTO),ub=ca.getTrackingInfo(ca.types.USER_NAME),vb=ca.getTrackingInfo(ca.types.USER_MESSAGE),wb={'right-aligned-text':lb.body.isrtl&&!j.rtl,'left-aligned-text':!lb.body.isrtl&&j.rtl,UFICommentContent:true},xb,yb=!lb.body.isrtl,zb=!j.rtl;if(yb!==zb)xb=yb?'ltr':'rtl';var ac=null,bc=null;if(lb.istranslatable&&(lb.translatedtext===undefined))ac=g.a({href:"#",title:"Translate this comment",classSet:oa,onClick:kb.onCommentTranslate,content:"See Translation"});if(lb.translatedtext){var cc=new da('http://bing.com/translator').addQueryData({text:lb.body.text});bc=g.span({classSet:pa,children:[lb.translatedtext,g.span({classSet:xa,children:["(",g.a({href:cc.toString(),classSet:ya,content:"Translated by Bing"}),")"]})]});}var dc=k.constructEndpoint(nb).toString(),ec=g.a({classSet:ia,href:nb.uri,content:nb.name,'data-hovercard':dc,'data-ft':ub}),fc=v({classSet:ha,interpolator:l,ranges:lb.body.ranges,text:lb.body.text,truncationPercent:x.commentTruncationPercent,maxLength:rb,maxLines:qb,renderEmoticons:fa.renderEmoticons,renderEmoji:fa.renderEmoji,'data-ft':vb,dir:lb.body.dir}),gc;if(lb.socialcontext){var hc=lb.socialcontext,ic=ib({topMutualFriend:kb.authorProfiles[hc.topmutualid],otherMutualCount:hc.othermutualcount,commentAuthor:nb});gc=[ec,ic,g.div({children:fc})];}else gc=[ec,' ',fc];return (m({spacing:n.spacing.medium,children:[g.a({href:nb.uri,'data-hovercard':dc,'data-ft':tb,children:g.img({src:nb.thumbSrc,classSet:w.ACTOR_IMAGE})}),g.div({children:[g.div({classSet:wb,dir:xb,children:[gc,ac,bc,sb]}),gb({comment:lb,feedback:mb,onBlingBoxClick:kb.onBlingBoxClick,onCommentLikeToggle:kb.onCommentLikeToggle,onPreviewRemove:kb.onPreviewRemove,onRetrySubmit:kb.onRetrySubmit,onMarkAsNotSpam:this._onMarkAsNotSpam.bind(this),viewerCanMarkNotSpam:pb,viewas:kb.contextArgs.viewas,showPermalink:kb.showPermalink,showReplyLink:kb.showReplyLink,contextArgs:kb.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere})]}),!ob?this._renderCloseButton():null]}));}});e.exports=jb;});
__d("UFIContainer",["ReactDOM","React","UFITrackingNodes"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('UFITrackingNodes'),j=h.createComponent({render:function(){var k=null;if(this.props.hasNub)k=g.li({classSet:{UFIArrow:true},children:g.i({})});return (g.ul({classSet:{UFIList:true},'data-ft':i.getTrackingInfo(i.types.UFI),children:[k,this.props.children]}));}});e.exports=j;});
__d("UFILikeSentenceText",["ReactDOM","HovercardLinkInterpolator","ProfileBrowserLink","ProfileBrowserTypes","React","ReactTextWithEntities","URI"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('HovercardLinkInterpolator'),i=b('ProfileBrowserLink'),j=b('ProfileBrowserTypes'),k=b('React'),l=b('ReactTextWithEntities'),m=b('URI');function n(p,q,r,s){if(s.count!=null){var t=j.LIKES,u={id:p.targetfbid},v=[];for(var w=0;w<q.length;w++)if(!q[w].count)v.push(q[w].entities[0].id);var x=new m('/ajax/like/tooltip.php').setQueryData({comment_fbid:p.targetfbid,comment_from:p.actorforpost,seen_user_fbids:v.length?v:true});return (g.a({rel:"dialog",ajaxify:i.constructDialogURI(t,u).toString(),href:i.constructPageURI(t,u).toString(),'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':x.toString(),children:r}));}else return h(r,s);}var o=k.createComponent({render:function(){var p=this.props.feedback,q=this.props.likeSentenceData,r=n.bind(null,p,q.ranges);return (l({interpolator:r,ranges:q.ranges,aggregatedRanges:q.aggregatedranges,text:q.text}));}});e.exports=o;});
__d("UFILikeSentence",["ReactDOM","HovercardLinkInterpolator","ImageBlock","ProfileBrowserLink","ProfileBrowserTypes","React","UFIClassSets","UFILikeSentenceText","URI","cx","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('HovercardLinkInterpolator'),i=b('ImageBlock'),j=b('ProfileBrowserLink'),k=b('ProfileBrowserTypes'),l=b('React'),m=b('UFIClassSets'),n=b('UFILikeSentenceText'),o=b('URI'),p=b('cx'),q=b('tx'),r=l.createComponent({render:function(){var s=this.props.feedback,t=s.likesentences.current,u=[m.ROW,{UFILikeSentence:true}];if(s.likesentences.isunseen)u.push(m.UNSEEN_ITEM);var v=null,w=null;if(t.text){v=g.i({classSet:{UFILikeIcon:true}});if(s.viewercanlike&&!s.hasviewerliked)v=g.a({classSet:{UFILikeLink:true},href:"#",tabIndex:"-1",title:"Like this item",onClick:this.props.onTargetLikeToggle,children:v});w=n({feedback:s,likeSentenceData:t});}var x=null;if(s.seencount>0){var y=k.GROUP_MESSAGE_VIEWERS,z={id:s.targetfbid},aa=j.constructDialogURI(y,z),ba=j.constructPageURI(y,z),ca=new o('/ajax/ufi/seen_tooltip.php').setQueryData({ft_ent_identifier:s.entidentifier,displayed_count:s.seencount}),da=s.seenbyall?"Seen by everyone":q._("Seen by {count}",{count:s.seencount});x=g.a({rel:"dialog",ajaxify:aa.toString(),href:ba.toString(),tabindex:"-1",'data-hover':"tooltip",'data-tooltip-alignh':"left",'data-tooltip-uri':ca.toString(),classSet:{UFISeenCount:true,UFISeenCountRight:!!t.text},children:[g.span({classSet:{UFISeenCountIcon:true}}),da]});}var ea=null;if(v&&w){ea=i({children:[v,w,x]});}else ea=x;return (g.li({classSet:u,children:ea}));}});e.exports=r;});
__d("UFIPager",["ReactDOM","ImageBlock","React","UFIClassSets"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('ImageBlock'),i=b('React'),j=b('UFIClassSets'),k=i.createComponent({onPagerClick:function(){!this.props.isLoading&&this.props.onPagerClick&&this.props.onPagerClick();},render:function(){var l=this.onPagerClick.bind(this),m={ufiPagerLoading:this.props.isLoading},n=[j.ROW,{UFICommentReply:this.props.isReply}];if(this.props.isUnseen)n.push(j.UNSEEN_ITEM);return (g.li({classSet:n,'data-ft':this.props['data-ft'],children:h({children:[g.a({classSet:{UFIPagerIcon:true},onClick:l}),g.a({classSet:{UFIPagerLink:true},onClick:l,children:g.span({classSet:m,children:this.props.pagerLabel})}),g.span({className:"fcg",children:this.props.countSentence})]})}));}});e.exports=k;});
__d("UFIShareRow",["ReactDOM","ImageBlock","NumberFormat","React","UFIClassSets","URI","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('ImageBlock'),i=b('NumberFormat'),j=b('React'),k=b('UFIClassSets'),l=b('URI'),m=b('tx'),n=j.createComponent({render:function(){var o=new l('/ajax/shares/view').setQueryData({target_fbid:this.props.targetID}),p=new l('/shares/view').setSubdomain('www').setQueryData({id:this.props.targetID}),q;if(this.props.shareCount>1){var r=i.formatIntegerWithDelimiter(this.props.shareCount,this.props.contextArgs.numberdelimiter||',');q=m._("{count} shares",{count:r});}else q="1 share";return (g.li({classSet:k.ROW,children:h({children:[g.a({className:"UFIShareIcon",rel:"dialog",ajaxify:o.toString(),href:p.toString()}),g.a({className:"UFIShareLink",rel:"dialog",ajaxify:o.toString(),href:p.toString(),children:q})]})}));}});e.exports=n;});
__d("UFISpamPlaceholder",["ReactDOM","React","UFIClassSets","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('UFIClassSets'),j=b('tx'),k=h.createComponent({render:function(){var l=[{UFISpamCommentWrapper:true,UFISpamCommentLoading:this.props.isLoading},i.ROW];return (g.li({children:g.a({classSet:{UFISpamCommentLink:true},onClick:this.props.onClick,children:g.span({'data-hover':"tooltip",'data-tooltip-alignh':"center",title:j._("{count} hidden",{count:this.props.numHidden}),classSet:l,children:g.i({classSet:{placeholderIcon:true}})})})}));}});e.exports=k;});
__d("UFI",["ReactDOM","CSS","NumberFormat","React","ReactLegacyScrollableArea","UFIAddCommentController","UFIComment","UFIConstants","UFIContainer","UFIInstanceState","UFILikeSentence","UFIPager","UFIReplyUtil","UFIShareRow","UFISpamPlaceholder","UFITrackingNodes","isEmpty","tx","copyProperties"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('CSS'),i=b('NumberFormat'),j=b('React'),k=b('ReactLegacyScrollableArea'),l=b('UFIAddCommentController'),m=b('UFIComment'),n=b('UFIConstants'),o=b('UFIContainer'),p=b('UFIInstanceState'),q=b('UFILikeSentence'),r=b('UFIPager'),s=b('UFIReplyUtil'),t=b('UFIShareRow'),u=b('UFISpamPlaceholder'),v=b('UFITrackingNodes'),w=b('isEmpty'),x=b('tx'),y=b('copyProperties'),z=j.createComponent({getInitialState:function(){return {requestRanges:y({},this.props.availableRanges),loadingSpamIDs:{}};},render:function(){var aa=this.props,ba=aa.feedback,ca=aa.contextArgs,da=aa.source!=n.UFIFeedbackSourceType.ADS,ea=(!w(ba.likesentences.current)||ba.seencount>0)&&da,fa=ea&&!ca.entstream,ga=null;if(fa)ga=q({feedback:ba,onTargetLikeToggle:aa.onTargetLikeToggle});var ha=aa.availableComments&&aa.availableComments.length&&da,ia=null;if(ha)ia=this.renderCommentMap(aa.availableComments,aa.availableRanges[aa.id].offset);var ja=null,ka=ba.cancomment;if(ka&&ca.showaddcomment&&ba.actorforpost){var la=new l(null,aa.id,null,ca),ma=aa.authorProfiles[ba.actorforpost];ja=la.renderAddComment(ma,ba.mentionsdatasource,ba.showsendonentertip);}var na=null,oa=ca.showshares&&ba.sharecount&&da;if(oa&&!ca.entstream)na=t({targetID:ba.targetfbid,shareCount:ba.sharecount,contextArgs:ca});var pa=this.renderPagers(),qa=fa||oa||ha||ka,ra=[pa.topPager,ia,pa.bottomPager];if(ca.scrollcomments&&ca.scrollwidth)ra=g.li({children:k({width:ca.scrollwidth,children:[g.ul({children:ra})]})});return (o({hasNub:ca.shownub&&qa,children:[ga,na,ra,ja]}));},renderCommentMap:function(aa,ba){var ca={},da=[],ea=function(){if(da.length>0){var sa=function(ta){this.state.loadingSpamIDs[ta[0]]=true;this.updateState({});this.props.onSpamFetch(ta);}.bind(this,da);ca['spam'+da[0]]=u({onClick:sa,numHidden:da.length,isLoading:!!this.state.loadingSpamIDs[da[0]]});da=[];}}.bind(this),fa=this.props.instanceid,ga=p.getKeyForInstance(fa,'editcommentid'),ha=null;ha=p.getKeyForInstance(fa,s.replyComposerUsersName);var ia=aa.length&&!!aa[0].parentcommentid,ja;for(var ka=0;ka<aa.length;ka++)if(aa[ka].status==n.UFIStatus.SPAM){da.push(aa[ka].id);}else{ea();var la=Math.max(this.props.loggingOffset-ka-ba,0),ma=aa[ka],na=undefined;if(ha===ma.id)na=s.renderReplyComposer(this,ma);var oa;if(this.props.replies&&this.props.replies[aa[ka].id]){var pa=this.renderPagers(aa[ka].id),qa=this.renderCommentMap(this.props.replies[aa[ka].id],this.props.availableRanges[aa[ka].id].offset);oa=g.ul({classSet:{UFIReplyList:true},children:[pa.topPager,qa,pa.bottomPager,na]});}var ra;if(ma.id==ga){ra=this.renderEditCommentBox(ma);ja=null;}else{ra=this.renderComment(ma,la,oa);ja=ra;if(!ia)ra.props.showReplyLink=true;}ca['comment'+aa[ka].id]=ra;ca['replies'+aa[ka].id]=oa;}if(ja&&ia)ja.props.showReplyLink=true;ea();return ca;},renderEditCommentBox:function(aa){var ba=new l(null,this.props.id,null,{}),ca=ba.renderEditComment(this.props.authorProfiles[this.props.feedback.actorforpost],aa.id,this.props.feedback.mentionsdatasource,this.props.onEditAttempt.bind(null,aa),this.props.onCancelEdit);return ca;},renderComment:function(aa,ba,ca){var da=this.props,ea=da.feedback,fa=ea.actorforpost===aa.author,ga=p.getKeyForInstance(this.props.instanceid,'locallycomposed'),ha=aa.islocal||ga&&ga[aa.id],ia=ea.showremovemenu||(ea.viewerid===aa.author),ja=ea.canremoveall&&ea.isownerpage&&!fa,ka=da.source!=n.UFIFeedbackSourceType.INTERN,la=v.getTrackingInfo(v.types.COMMENT,ba),ma=!!aa.parentcommentid,na=function(event){if(ca)h.toggleClass(ca.getDOMNode(),'UFICommentCollapsedReplies');};return (m({comment:aa,authorProfiles:this.props.authorProfiles,viewerIsAuthor:fa,feedback:ea,'data-ft':la,contextArgs:this.props.contextArgs,hideAsSpamForPageAdmin:ja,isLocallyComposed:ha,isReply:ma,showPermalink:ka,showRemoveReportMenu:ia,onBlingBoxClick:na,onCommentLikeToggle:da.onCommentLikeToggle.bind(null,aa),onCommentTranslate:da.onCommentTranslate.bind(null,aa),onEdit:da.onCommentEdit.bind(null,aa),onHideAsSpam:da.onCommentHideAsSpam.bind(null,aa),onInlineBan:da.onCommentInlineBan.bind(null,aa),onMarkAsNotSpam:da.onCommentMarkAsNotSpam.bind(null,aa),onOneClickRemove:da.onCommentOneClickRemove.bind(null,aa),onPreviewRemove:da.onPreviewRemove.bind(null,aa),onRemove:da.onCommentRemove.bind(null,aa),onRetrySubmit:da.onRetrySubmit.bind(null,aa),onUndoInlineBan:da.onCommentUndoInlineBan.bind(null,aa),onUndoOneClickRemove:da.onCommentUndoOneClickRemove.bind(null,aa)}));},onPage:function(aa,ba){var ca=this.state.requestRanges;ca[aa]=ba;this.updateState({requestRanges:ca});this.props.onChangeRange(aa,ba);},renderPagers:function(aa){var ba=this.props;aa=aa||ba.id;if(!this.state.requestRanges[aa])this.state.requestRanges[aa]=ba.availableRanges[aa];var ca=this.state.requestRanges[aa].offset,da=this.state.requestRanges[aa].length,ea=ba.availableRanges[aa].offset,fa=ba.availableRanges[aa].length,ga=ba.deletedCounts[aa],ha=ba.commentCounts[aa],ia=ha-ga,ja=fa-ga,ka=ba.contextArgs.numberdelimiter||',',la=aa!==ba.id,ma={topPager:null,bottomPager:null};if(ba.source==n.UFIFeedbackSourceType.ADS)return ma;var na=ca<ea,oa=ca+da>ea+fa;if(fa==ha)return ma;var pa=(ea+fa)==ha;if((ha<ba.pageSize&&pa)||ja===0){var qa=Math.min(ha,ba.pageSize),ra=this.onPage.bind(this,aa,{offset:ha-qa,length:qa}),sa;if(ia==1){sa=la?"View 1 reply":"View 1 comment";}else{var ta=i.formatIntegerWithDelimiter(ia,ka);sa=la?x._("View all {count} replies",{count:ta}):x._("View all {count} comments",{count:ta});}var ua=v.getTrackingInfo(v.types.VIEW_ALL_COMMENTS),va=r({isUnseen:ba.feedback.hasunseencollapsed,isLoading:na,isReply:la,pagerLabel:sa,onPagerClick:ra,'data-ft':ua});if(ba.feedback.isranked&&!la){ma.bottomPager=va;}else ma.topPager=va;return ma;}if(ea>0){var wa=Math.max(ea-ba.pageSize,0),qa=ea+fa-wa,xa=this.onPage.bind(this,aa,{offset:wa,length:qa}),ya=i.formatIntegerWithDelimiter(ja,ka),za=i.formatIntegerWithDelimiter(ia,ka),ab=x._("{countshown} of {totalcount}",{countshown:ya,totalcount:za});if(ba.feedback.isranked&&!la){ma.bottomPager=r({isLoading:na,isReply:la,pagerLabel:"View more comments",onPagerClick:xa,countSentence:ab});}else{var bb=la?"View previous replies":"View previous comments";ma.topPager=r({isLoading:na,isReply:la,pagerLabel:bb,onPagerClick:xa,countSentence:ab});}}if(ea+fa<ha){var cb=Math.min(fa+ba.pageSize,ha-ea),db=this.onPage.bind(this,aa,{offset:ea,length:cb});if(ba.feedback.isranked&&!la){ma.topPager=r({isLoading:oa,isReply:la,pagerLabel:"View previous comments",onPagerClick:db});}else{var eb=la?"View more replies":"View more comments";ma.bottomPager=r({isLoading:oa,isReply:la,pagerLabel:eb,onPagerClick:db});}}return ma;}});e.exports=z;});
__d("UFIController",["ReactDOM","Arbiter","Bootloader","CSS","DOM","DOMQuery","LayerRemoveOnHide","LiveTimer","Parent","React","ReactMount","ShortProfiles","UFI","UFIActionLinkController","UFICentralUpdates","UFIComments","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFIReplyUtil","UFIUserActions","copyProperties","isEmpty","tx","UFICommentTemplates"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Bootloader'),i=b('CSS'),j=b('DOM'),k=b('DOMQuery'),l=b('LayerRemoveOnHide'),m=b('LiveTimer'),n=b('Parent'),o=b('React'),p=b('ReactMount'),q=b('ShortProfiles'),r=b('UFI'),s=b('UFIActionLinkController'),t=b('UFICentralUpdates'),u=b('UFIComments'),v=b('UFIConstants'),w=b('UFIFeedbackTargets'),x=b('UFIInstanceState'),y=b('UFIReplyUtil'),z=b('UFIUserActions'),aa=b('copyProperties'),ba=b('isEmpty'),ca=b('tx'),da=c('UFICommentTemplates'),ea=function(ha,ia,ja,ka){var la=ha.offset+ha.length===ia;return {offset:ha.offset,length:(la&&fa(ka))?ja-ha.offset:ha.length};},fa=function(ha){return ha==v.UFIPayloadSourceType.USER_ACTION||ha==v.UFIPayloadSourceType.LIVE_SEND;};function ga(ha,ia,ja){this.root=ha;this.id=ia.ftentidentifier;this.source=ia.source;this._ufiInstanceID=ia.instanceid;this._contextArgs=ia;this._verifiedCommentsExpanded=false;var ka=ja.feedbacktargets[0];this.actionLink=new s(ha,ia,ka);var la=ja.commentlists[this.id];this.commentcounts={};this.deletedcounts={};this.ranges={};this.replies={};this.commentcounts[this.id]=u.getCommentCount(this.id);this.deletedcounts[this.id]=0;this.ranges[this.id]=aa({},la.range);for(var ma=0;ma<la.values.length;ma++){var na=la.values[ma],oa=ja.commentlists[na];if(oa){this.commentcounts[na]=u.getCommentCount(na);this.deletedcounts[na]=0;this.ranges[na]=aa({},oa.range);}}this._loggingOffset=null;this._ufi=null;this.ufiCentralUpdatesSubscriptions=[t.subscribe('feedback-updated',function(pa,qa){var ra=qa.updates;if(this.id in ra)this.fetchAndUpdate(this.render.bind(this),qa.payloadSource);}.bind(this)),t.subscribe('feedback-id-changed',function(pa,qa){var ra=qa.updates;if(this.id in ra)this.id=ra[this.id];}.bind(this)),t.subscribe('instance-updated',function(pa,qa){var ra=qa.updates;if(this._ufiInstanceID in ra){var sa=ra[this._ufiInstanceID];if(sa.editcommentid||sa[y.replyComposerUsersName])this.render(qa.payloadSource);}}.bind(this)),t.subscribe('update-comment-lists',function(pa,qa){var ra=qa.commentlists;if(ra&&Object.keys(ra).length)for(var sa in ra)if(!this.ranges[sa])this.ranges[sa]=ra[sa].range;}.bind(this))];this.clearPageletSubscription=g.subscribe('ajaxpipe/clear_pagelet',this.onPageletDestroy.bind(this));t.handleUpdate(v.UFIPayloadSourceType.INITIAL_SERVER,ja);h.loadModules(['ScrollAwareDOM'],function(pa){p.scrollMonitor=pa.monitor;});}aa(ga.prototype,{_onTargetLikeToggle:function(event){var ha=!this.feedback.hasviewerliked;z.changeLike(this.id,ha,{source:this.source,target:event.target});event.preventDefault();},_onCommentLikeToggle:function(ha,event){var ia=!ha.hasviewerliked;z.changeCommentLike(ha.id,ia,{source:this.source,target:event.target});},_onCommentEdit:function(ha){x.updateState(this._ufiInstanceID,'isediting',true);x.updateState(this._ufiInstanceID,'editcommentid',ha.id);},_onEditAttempt:function(ha,ia,event){if(!ia.visibleValue){this._onCommentRemove(ha);}else z.editComment(ha.id,ia.visibleValue,ia.encodedValue,{source:this._contextArgs.source,target:event.target});x.updateStateField(this._ufiInstanceID,'locallycomposed',ha.id,true);this._onEditReset();},_onEditReset:function(){x.updateState(this._ufiInstanceID,'isediting',false);x.updateState(this._ufiInstanceID,'editcommentid',null);},_onCommentRemove:function(ha,event){var ia=da[':fb:ufi:hide-dialog-template'].build();j.setContent(ia.getNode('body'),"Are you sure you want to delete this comment?");j.setContent(ia.getNode('title'),"Delete Comment");h.loadModules(['DialogX'],function(ja){var ka=new ja({modal:true,width:465,addedBehaviors:[l]},ia.getRoot());ka.subscribe('confirm',function(){z.removeComment(ha.id,{source:this.source,oneclick:false,target:event.target,timelinelogdata:this._contextArgs.timelinelogdata});ka.hide();}.bind(this));ka.show();}.bind(this));},_onCommentOneClickRemove:function(ha,event){z.removeComment(ha.id,{source:this.source,oneclick:true,target:event.target,timelinelogdata:this._contextArgs.timelinelogdata});},_onCommentUndoOneClickRemove:function(ha,event){var ia=this.feedback.canremoveall&&this.feedback.isownerpage&&this.feedback.actorforpost!==this.authorProfiles[ha.author];z.undoRemoveComment(ha.id,ia,{source:this.source,target:event.target});},_onCommentHideAsSpam:function(ha,event){z.setHideAsSpam(ha.id,true,{source:this.source,target:event.target});},_onCommentMarkAsNotSpam:function(ha,event){z.setHideAsSpam(ha.id,false,{source:this.source,target:event.target});},_onCommentTranslate:function(ha,event){z.translateComment(ha,{source:this.source,target:event.target});},_onCommentInlineBanChange:function(ha,ia,event){z.banUser(ha,this.feedback.ownerid,ia,{source:this.source,target:event.target});},_onCommentInlineBan:function(ha,event){this._onCommentInlineBanChange(ha,true,event);},_onCommentUndoInlineBan:function(ha,event){this._onCommentInlineBanChange(ha,false,event);},_fetchSpamComments:function(ha){z.fetchSpamComments(this.id,ha);},_removePreview:function(ha,event){z.removePreview(ha,{source:this.source,target:event.target});},_retrySubmit:function(ha){h.loadModules(['UFIRetryActions'],function(ia){ia.retrySubmit(ha,{source:this.source});}.bind(this));},_ensureCommentsExpanded:function(){if(this._verifiedCommentsExpanded)return;var ha=n.byTag(this.root,'form');if(ha){i.removeClass(ha,'collapsed_comments');this._verifiedCommentsExpanded=true;}},render:function(ha){var ia=this.comments.length||!ba(this.feedback.likesentences.current);if(ia&&fa(ha))this._ensureCommentsExpanded();if(this._loggingOffset===null)this._loggingOffset=this.ranges[this.id].offset+this.comments.length-1;var ja=r({feedback:this.feedback,id:this.id,onTargetLikeToggle:this._onTargetLikeToggle.bind(this),onCommentLikeToggle:this._onCommentLikeToggle.bind(this),onCommentRemove:this._onCommentRemove.bind(this),onCommentHideAsSpam:this._onCommentHideAsSpam.bind(this),onCommentMarkAsNotSpam:this._onCommentMarkAsNotSpam.bind(this),onCommentEdit:this._onCommentEdit.bind(this),onCommentOneClickRemove:this._onCommentOneClickRemove.bind(this),onCommentUndoOneClickRemove:this._onCommentUndoOneClickRemove.bind(this),onCommentTranslate:this._onCommentTranslate.bind(this),onCommentInlineBan:this._onCommentInlineBan.bind(this),onCommentUndoInlineBan:this._onCommentUndoInlineBan.bind(this),onEditAttempt:this._onEditAttempt.bind(this),onCancelEdit:this._onEditReset.bind(this),onChangeRange:this._changeRange.bind(this),onSpamFetch:this._fetchSpamComments.bind(this),onPreviewRemove:this._removePreview.bind(this),onRetrySubmit:this._retrySubmit.bind(this),contextArgs:this._contextArgs,commentCounts:this.commentcounts,replies:this.replies,deletedCounts:this.deletedcounts,availableComments:this.comments,source:this.source,availableRanges:this.ranges,pageSize:v.defaultPageSize,authorProfiles:this.authorProfiles,instanceid:this._ufiInstanceID,loggingOffset:this._loggingOffset});this._ufi=o.renderOrUpdateComponent(ja,this.root);m.updateTimeStamps();},fetchAndUpdate:function(ha,ia){w.getFeedbackTarget(this.id,function(ja){var ka=u.getCommentCount(this.id),la=ea(this.ranges[this.id],this.commentcounts[this.id],ka,ia);u.getCommentsInRange(this.id,la,function(ma){var na=[],oa={},pa={};if(ja.actorforpost)na.push(ja.actorforpost);for(var qa=0;qa<ma.length;qa++){if(ma[qa].author)na.push(ma[qa].author);if(ma[qa].socialcontext)na.push(ma[qa].socialcontext.topmutualid);if(ja.isthreaded){var ra=ma[qa].id,sa=u.getCommentCount(ra),ta;if(this.ranges[ra]){ta=ea(this.ranges[ra],this.commentcounts[ra],sa,ia);}else ta={offset:0,length:Math.min(sa,2)};oa[ra]=ta;pa[ra]=sa;}}u.getRepliesInRanges(this.id,oa,function(ua){for(var va=0;va<ma.length;va++){var wa=ma[va].id,xa=ua[wa]||[];for(var ya=0;ya<xa.length;ya++){if(xa[ya].author)na.push(xa[ya].author);if(xa[ya].socialcontext)na.push(xa[ya].socialcontext.topmutualid);}}q.getMulti(na,function(za){this.authorProfiles=za;this.feedback=ja;this.commentcounts[this.id]=ka;this.deletedcounts[this.id]=u.getDeletedCount(this.id);this.comments=ma;this.ranges[this.id]=la;for(var ab=0;ab<ma.length;ab++){var bb=ma[ab].id;this.replies[bb]=ua[bb];this.ranges[bb]=oa[bb];this.commentcounts[bb]=pa[bb];this.deletedcounts[bb]=u.getDeletedCount(bb);}ha(ia);if(ia==v.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)g.inform('CommentUFI.Pager');}.bind(this));}.bind(this));}.bind(this));}.bind(this));},_changeRange:function(ha,ia){this.ranges[ha]=ia;this.fetchAndUpdate(this.render.bind(this),v.UFIPayloadSourceType.USER_ACTION);},onPageletDestroy:function(ha,ia){if(k.contains(ia.pagelet_id,this.root)){o.destroyAndReleaseReactRootNode(this.root);this.ufiCentralUpdatesSubscriptions.forEach(t.unsubscribe.bind(t));g.unsubscribe(this.clearPageletSubscription);}}});e.exports=ga;});
__d("ReactErrors",["keyMirror","throwIf"],function(a,b,c,d,e,f){var g=b('keyMirror'),h=b('throwIf'),i=g({CLASS_SPEC:null,CONTROL_WITHOUT_BACKING_DOM:null,NO_RENDER_NODE:null,USING_CHILD_TWICE:null,DUAL_TRANSACTION:null,MISSING_TRANSACTION:null,INVALID_STATE:null,ON_DOM_READY_MISMATCH:null,INVALID_COMPONENT:null,RUNAWAY_TREE:null,ESCAPE_TYPE:null});i.throwIf=h;e.exports=i;});
__d("objMap",[],function(a,b,c,d,e,f){var g=function(h,i,j){var k,l=0,m={};if(!h)return h;for(k in h){if(!h.hasOwnProperty(k))continue;m[k]=i.call(j,k,h[k],l++);}return m;};e.exports=g;});
__d("ReactBrowserUtils",["ReactErrors","objMap"],function(a,b,c,d,e,f){var g=b('ReactErrors'),h=b('objMap');function i(l){return {"&":"&amp;",">":"&gt;","<":"&lt;","\"":"&quot;","'":"&#x27;","/":"&#x2f;"}[l];}var j=document.createElement('div'),k={getSupportedStyleMap:function(){var l={},m;for(m in j.style)l[m]=k.escapeTextForBrowser(m);return l;},getContentAccessorKey:function(){return j.innerText!==undefined?'innerText':'textContent';},escapeTextForBrowser:function(l){g.throwIf((!l||!l.indexOf)&&isNaN(l),g.ESCAPE_TYPE);return (''+l).replace(/[&><"'\/]/g,i);},supportsEvent:function(l,m){var n=document.createElement('div'),o='on'+l,p=o in n,q=!!j.addEventListener;if(!p){if(!n.setAttribute)n=document.createElement('div');if(n.setAttribute&&n.removeAttribute){n.setAttribute(o,'');p=typeof n[o]==='function';if(typeof n[o]!=='undefined')n[o]=undefined;n.removeAttribute(o);}}n=null;return (m&&q||!m)&&p;}};e.exports=k;});
__d("ReactEnv",["ReactBrowserUtils"],function(a,b,c,d,e,f){var g=b('ReactBrowserUtils'),h={currentScrollLeft:0,currentScrollTop:0,browserInfo:null,refreshAuthoritativeScrollValues:function(){h.currentScrollLeft=document.body.scrollLeft+document.documentElement.scrollLeft;h.currentScrollTop=document.body.scrollTop+document.documentElement.scrollTop;},ensureBrowserDetected:function(){h.browserInfo=g.browserDetection();}};e.exports=h;});
__d("ReactEventConstants",[],function(a,b,c,d,e,f){var g={onScroll:1,onTouchTap:2,onTouchEnd:3,onTouchMove:4,onTouchStart:5,onTouchDrag:6,onTouchDragDone:7,onClick:8,onDragDone:9,onDrag:10,onMouseWheel:11,onKeyUp:12,onKeyDown:13,onKeyPress:14,onFocus:15,onBlur:16,onMouseIn:17,onMouseOut:18,onMouseDown:19,onMouseUp:20,onChange:21},h={mouseMove:{},mouseIn:{},mouseDown:{abstractEquivalent:g.onMouseDown},mouseUp:{abstractEquivalent:g.onMouseUp},mouseOut:{},click:{abstractEquivalent:g.onClick},mouseWheel:{abstractEquivalent:g.onMouseWheel},touchStart:{abstractEquivalent:g.onTouchStart},touchEnd:{abstractEquivalent:g.onTouchEnd},touchMove:{abstractEquivalent:g.onTouchMove},touchCancel:{},keyUp:{abstractEquivalent:g.onKeyUp},keyPress:{abstractEquivalent:g.onKeyPress},keyDown:{abstractEquivalent:g.onKeyDown},focus:{abstractEquivalent:g.onFocus},blur:{abstractEquivalent:g.onBlur},scroll:{abstractEquivalent:g.onScroll},change:{abstractEquivalent:g.onChange}},i={registrationTypes:g,topLevelEvents:h};e.exports=i;});
__d("ReactAbstractEvent",["ReactEnv","ReactEventConstants"],function(a,b,c,d,e,f){var g=b('ReactEnv'),h=b('ReactEventConstants'),i=h.topLevelEvents;function j(k,l,m,n,o){this.registrationType=k;this.originatingTopLevelEventType=l;this.target=m;this.nativeEvent=n;this.data=o||{};}j.prototype.preventDefault=function(){j.preventDefaultOnNativeEvent(this.nativeEvent);};j.preventDefaultOnNativeEvent=function(k){if(k.preventDefault){k.preventDefault();}else k.returnValue=false;};j.normalizeScrollData=function(k,l){return {scrollTop:l.scrollTop,scrollLeft:l.scrollLeft,clientWidth:l.clientWidth,clientHeight:l.clientHeight,scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};};j.normalizeMouseWheelData=function(k,l){var m=0,n=0,o=0;if(k.wheelDelta)m=k.wheelDelta/120;if(k.detail)m=-k.detail/3;o=m;if(k.axis!==undefined&&k.axis===k.HORIZONTAL_AXIS){o=0;n=-m;}if(k.wheelDeltaY!==undefined)o=k.wheelDeltaY/120;if(k.wheelDeltaX!==undefined)n=-k.wheelDeltaX/120;return {delta:m,deltaX:n,deltaY:o};};j.isNativeClickEventRightClick=function(k){return k.which?k.which===3:k.button?k.button===2:false;};j.normalizeMouseData=function(k,l){return {globalX:j.eventGlobalX(k),globalY:j.eventGlobalY(k),rightMouseButton:j.isNativeClickEventRightClick(k)};};j.normalizeDragEventData=function(k,l,m,n,o){return {globalX:l,globalY:m,startX:n,startY:o};};j.fromTopLevel=function(k,l,m){var n;switch(k){case i.mouseWheel:n=j.normalizeMouseWheelData(l,m);break;case i.scroll:n=j.normalizeScrollData(l,m);break;case i.click:case i.change:case i.mouseDown:case i.mouseUp:case i.touchMove:case i.touchStart:case i.touchEnd:n=j.normalizeMouseData(l,m);break;default:n={};}return new j(k.abstractEquivalent,k,m,l,n);};j.eventGlobalY=function(k){if((!k.touches||k.touches.length===0)&&k.changedTouches&&k.changedTouches.length===1)return k.changedTouches[0].pageY;if(k.touches&&k.touches.length===1)return k.touches[0].pageY;return k.pageY!==undefined?k.pageY:k.clientY+g.currentScrollTop;};j.eventGlobalX=function(k){if((!k.touches||k.touches.length===0)&&k.changedTouches&&k.changedTouches.length===1)return k.changedTouches[0].pageX;if(k.touches&&k.touches[0])return k.touches[0].pageX;return k.pageX!==undefined?k.pageX:k.clientX+g.currentScrollLeft;};e.exports=j;});
__d("ReactInstanceHandles",[],function(a,b,c,d,e,f){var g='.',h={findComponentRoot:function(i,j){var k=i.firstChild;while(k){if(j==k.id){return k;}else if(j.indexOf(k.id)===0)return h.findComponentRoot(k,j);k=k.nextSibling;}},getReactRootID:function(i){return '.reactRoot['+i+']';},getReactRootIDFromNodeID:function(i){var j=/\.reactRoot\[[0-9]+\]/.exec(i);return j&&j[0];},parentID:function(i){if(!i||!i.length)return '';var j=i.lastIndexOf(".");return i.substr(0,j);},walkIDHierarchy:function(i,j){var k=i;while(k){j(k);k=h.parentID(k);}},separator:g};e.exports=h;});
__d("ReactEvent",["ReactAbstractEvent","ReactBrowserUtils","ReactEnv","ReactErrors","ReactEventConstants","ReactInstanceHandles"],function(a,b,c,d,e,f){var g=b('ReactAbstractEvent'),h=b('ReactBrowserUtils'),i=b('ReactEnv'),j=b('ReactErrors'),k=b('ReactEventConstants'),l=b('ReactInstanceHandles'),m=k.registrationTypes,n=k.topLevelEvents,o=Object.keys(m),p=1,q=5,r=10,s=200,t={},u=false,v=0,w={},x=0,y=null,z=null,aa=null,ba=null,ca=0,da=null,ea=false,fa={},ga=true,ha={};function ia(fb,gb){ha[fb+'@'+gb.registrationType]=gb;}function ja(fb,gb){var hb=fb+'@'+gb;if(ha[hb])delete ha[hb];}function ka(fb){return function(gb){fb(gb||window.event);};}function la(fb,gb,hb){if(fb.addEventListener){fb.addEventListener(gb,ka(hb),false);}else if(fb.attachEvent)fb.attachEvent('on'+gb,ka(hb));}function ma(fb,gb,hb){fb.addEventListener(gb,ka(hb),true);}function na(fb){var gb=fb.target||fb.srcElement||window;return (gb.nodeType===3)?gb.parentNode:gb;}function oa(fb){return function(gb){var hb=na(gb);if(ga)db(fb,gb,hb);};}function pa(fb,gb){return fb+'@'+gb;}function qa(fb,gb,hb){la(hb,gb,oa(fb));}function ra(fb,gb,hb){ma(hb,gb,oa(fb));}function sa(fb){return !!fb.abstractEquivalent;}function ta(fb){var gb;for(gb=0;gb<fb.length;gb++){var hb=fb[gb].abstractEvent,ib=fb[gb].registration;ib.listener.call(ib.context,hb,hb.nativeEvent);}}function ua(fb,gb,hb,ib){var jb=pa(fb,m.onDrag),kb=pa(fb,m.onTouchDrag),lb=pa(fb,m.onDragDone),mb=pa(fb,m.onTouchDragDone),nb=gb===n.mouseDown?jb:gb===n.touchStart?kb:false,ob=gb===n.mouseDown?lb:gb===n.touchStart?mb:false;if(gb===n.mouseDown||gb===n.touchStart){var pb=g.eventGlobalX(hb),qb=g.eventGlobalY(hb);u=true;y=pb;z=qb;if(ha[nb]){var rb=g.normalizeMouseData(hb,ib);if(!rb.rightMouseButton){t[nb]=ha[nb];v++;var sb=ha[ob];if(sb){w[ob]=sb;x++;}aa=pb;ba=qb;ca=0;}}}}function va(fb,gb,hb,ib){var jb=sa(gb)&&pa(fb,gb.abstractEquivalent),kb=[];if(gb===n.touchEnd){var lb=g.eventGlobalX(hb),mb=g.eventGlobalY(hb),nb=Math.abs(lb-y)+Math.abs(mb-z),ob=ha[pa(fb,m.onTouchTap)];if(nb<r&&ob)kb.push({registration:ob,abstractEvent:new g(m.onTouchTap,gb,ib,hb,{})});}if(jb&&ha[jb])kb.push({abstractEvent:g.fromTopLevel(gb,hb,ib),registration:ha[jb]});return kb;}function wa(fb){if(!fb.getAttributeNode)return false;var gb=fb.getAttributeNode('id');return !!(gb&&gb.value.charAt(0)==='.');}function xa(fb,gb,hb){var ib,jb=hb,kb=hb,lb=[];if(fb===n.mouseIn){kb=gb.relatedTarget||gb.fromElement;if(kb)return;}else jb=gb.relatedTarget||gb.toElement;while(jb&&!wa(jb))jb=jb.parentNode;while(kb&&!wa(kb))kb=kb.parentNode;if(!kb&&!jb)return;var mb='',nb='',ob={value:''};if(kb)mb=(kb.getAttributeNode('id')||ob).value;if(jb)nb=(jb.getAttributeNode('id')||ob).value;var pb='',qb=0;while(nb.charAt(qb)!==''&&mb.charAt(qb)!==''&&nb.charAt(qb)===mb.charAt(qb))qb++;if(nb.charAt(qb-1)==='.'){pb=nb.substr(0,qb-1);}else pb=nb.substr(0,(nb.substr(0,qb)).lastIndexOf('.'));var rb,sb=mb,tb;if(kb){tb=0;while(sb!==pb){rb=ha[pa(sb,m.onMouseOut)];if(rb)lb.push({registration:rb,abstractEvent:new g(m.onMouseOut,fb,hb,gb,{})});sb=sb.substr(0,sb.lastIndexOf('.'));tb++;j.throwIf(tb>s,j.RUNAWAY_TREE);}}sb=nb.substr(0,pb.length);if(jb){tb=0;while(sb!==nb){sb=nb.indexOf('.',sb.length+1)===-1?nb:nb.substr(0,(nb.indexOf('.',sb.length+1)));rb=ha[pa(sb,m.onMouseIn)];if(rb)lb.push({registration:rb,abstractEvent:new g(m.onMouseIn,fb,gb,{})});j.throwIf(tb++>s,j.RUNAWAY_TREE);}}ta(lb);}function ya(fb,gb,hb){if(!u)return;var ib=g.eventGlobalX(gb),jb=g.eventGlobalY(gb);if(v){var kb=Math.abs(ib-aa)+Math.abs(jb-ba),lb=(new Date()).getTime(),mb=lb-ca;if(kb<p||mb<q)return;var nb;for(nb in t){if(!t.hasOwnProperty(nb))continue;var ob=g.normalizeDragEventData(gb,ib,jb,y,z),pb=t[nb],qb=fb===n.touchMove?m.onTouchDrag:m.onDrag,rb=new g(qb,fb,hb,gb,ob);pb.listener.call(pb.context,rb,gb);}aa=ib;ba=jb;ca=lb;}}function za(fb,gb,hb){var ib=g.eventGlobalX(gb),jb=g.eventGlobalY(gb),kb,lb,mb=Math.abs(ib-y)+Math.abs(jb-z),nb=[];if(x)if(mb>p)for(lb in w){if(!w.hasOwnProperty(lb))continue;kb=w[lb];nb.push({registration:kb[lb],abstractEvent:new g(kb.registrationType,fb,hb,gb,{})});}t={};u=false;v=0;x=0;w={};y=0;z=0;return nb;}function ab(){la(window,'scroll',function(fb){if(na(fb)==window)i.refreshAuthoritativeScrollValues();});}function bb(){la(window,'resize',function(fb){if(na(fb)==window)i.refreshAuthoritativeScrollValues();});}function cb(fb,gb){ab();bb();if(!gb){qa(n.mouseMove,'mousemove',fb);qa(n.mouseIn,'mouseover',fb);qa(n.mouseDown,'mousedown',fb);qa(n.mouseUp,'mouseup',fb);qa(n.mouseOut,'mouseout',fb);qa(n.click,'click',fb);qa(n.mouseWheel,'mousewheel',fb);}else{qa(n.touchStart,'touchstart',fb);qa(n.touchEnd,'touchend',fb);qa(n.touchMove,'touchmove',fb);qa(n.touchCancel,'touchcancel',fb);}qa(n.keyUp,'keyup',fb);qa(n.keyPress,'keypress',fb);qa(n.keyDown,'keydown',fb);qa(n.change,'change',fb);qa(n.mouseWheel,'DOMMouseScroll',fb);qa(n.scroll,'scroll',fb);if(h.supportsEvent('focusin')){qa(n.focus,'focusin',fb);qa(n.blur,'focusout',fb);}else if(h.supportsEvent('focus',true)){ra(n.focus,'focus',fb);ra(n.blur,'blur',fb);}}function db(fb,gb,hb){var ib=hb.id;if(fb===n.mouseMove){ya(fb,gb,hb);return;}if(fb===n.touchMove)ya(fb,gb,hb);while(hb.parentNode&&hb.parentNode!==hb&&(ib===null||ib.length===0)){hb=hb.parentNode;ib=hb.id;}if(fb===n.mouseIn||fb===n.mouseOut){xa(fb,gb,hb);return;}var jb=[];l.walkIDHierarchy(ib,function(kb){jb=jb.concat(va(kb,fb,gb,hb));ua(kb,fb,gb,hb);});if(fb===n.mouseUp||fb===n.touchEnd||fb===n.touchCancel)jb=jb.concat(za(fb,gb,hb));ta(jb);}var eb={setEnabled:function(fb){ga=fb;},ensureListening:function(fb,gb){if(!fa[fb.id]){cb(fb,gb);fa[fb.id]=true;}},registerListener:function(fb,gb,hb){if(m[gb])ia(fb,{registrationType:m[gb],listener:hb});},getRegistration:function(fb,gb){return ha[fb+'@'+m[gb]];},clearAllRegistrations:function(fb){var gb;for(gb=0;gb<o.length;gb++){var hb=o[gb],ib=m[hb];ja(fb,ib);}},disableSelectionGlobally:function(){if(ea)return;da=document.onselectstart;ea=true;document.onselectstart=function(fb){g.preventDefaultOnNativeEvent(fb||window.event);};},enableSelectionGlobally:function(){if(ea){document.onselectstart=da;da=null;ea=false;}}};e.exports=eb;});
__d("ReactInputSelection",[],function(a,b,c,d,e,f){var g={hasSelectionCapabilities:function(h){return h&&((h.nodeName==='INPUT'&&h.type==='text'||h.nodeName==='TEXTAREA'));},getSelectionInformation:function(){var h=document.activeElement;return {focusedElem:h,selectionRange:g.hasSelectionCapabilities(h)?g.getSelection(h):null};},restoreSelection:function(h){var i=document.activeElement,j=h.focusedElem,k=h.selectionRange;if(i!==j&&document.getElementById(j.id)){if(g.hasSelectionCapabilities(j))g.setSelection(j,k);j.focus();}},getSelection:function(h){if(!document.selection)return {start:h.selectionStart,end:h.selectionEnd};var i=document.selection.createRange();if(i.parentElement()!==h)return {start:0,end:0};var j=h.value.length;if(h.nodeName==='INPUT'){return {start:-i.moveStart('character',-j),end:-i.moveEnd('character',-j)};}else{var k=i.duplicate();k.moveToElementText(h);k.setEndPoint('StartToEnd',i);var l=j-k.text.length;k.setEndPoint('StartToStart',i);return {start:j-k.text.length,end:l};}},setSelection:function(h,i){var j=i.start,k=i.end;if(typeof k==='undefined')k=j;if(document.selection){if(h.tagName==='TEXTAREA'){var l=(h.value.slice(0,j).match(/\r/g)||[]).length,m=(h.value.slice(j,k).match(/\r/g)||[]).length;j-=l;k-=l+m;}var n=h.createTextRange();n.collapse(true);n.moveStart('character',j);n.moveEnd('character',k-j);n.select();}else{h.selectionStart=j;h.selectionEnd=Math.min(k,h.value.length);h.focus();}}};e.exports=g;});
__d("ReactOnDOMReady",["ReactErrors"],function(a,b,c,d,e,f){var g=b('ReactErrors'),h=null,i={enqueue:function(j){g.throwIf(!h,g.ON_DOM_READY_MISMATCH);h.push(j);},beginEnqueueing:function(){g.throwIf(h,g.ON_DOM_READY_MISMATCH);h=[];},notifyAll:function(){var j=h,k=j.length;g.throwIf(!j,g.ON_DOM_READY_MISMATCH);h=null;for(var l=0;l<k;l=l+1){var m=j[l];m.onDomReady.call(m,m.getDOMNode());}j.length=0;}};e.exports=i;});
__d("ReactDOMTransaction",["ReactErrors","ReactEvent","ReactInputSelection","ReactOnDOMReady"],function(a,b,c,d,e,f){var g=b('ReactErrors'),h=b('ReactEvent'),i=b('ReactInputSelection'),j=b('ReactOnDOMReady'),k=null,l={totalOnDomReadyTime:0,perform:function(m,n){l.initialize();try{m.call(n);}catch(o){throw o;}finally{l.close();}},initialize:function(){g.throwIf(k,g.DUAL_TRANSACTION);h.setEnabled(false);j.beginEnqueueing();k={selectionInformation:i.getSelectionInformation()};},close:function(){g.throwIf(!k,g.MISSING_TRANSACTION);i.restoreSelection(k.selectionInformation);h.setEnabled(true);k=null;var m=Date.now();j.notifyAll();l.totalOnDomReadyTime+=(Date.now()-m);}};e.exports=l;});
__d("ReactMount",["ReactErrors","ReactEvent","ReactInstanceHandles"],function(a,b,c,d,e,f){var g=b('ReactErrors'),h=b('ReactEvent'),i=b('ReactInstanceHandles'),j=0,k={instanceByReactRootId:{},containersByReactRootId:{},totalInstantiationTime:0,totalInjectionTime:0,useTouchEvents:false,scrollMonitor:function(l,m){return m();},prepareForRendering:function(l){h.ensureListening(l,k.useTouchEvents);},renderComponent:function(l,m){g.throwIf(!m,g.NO_RENDER_NODE);k.prepareForRendering(document.documentElement);k.renderMarkupIntoNode(l,m);return l;},constructAndRenderComponent:function(l,m,n){k.renderComponent(l(m),n);},renderMarkupIntoNode:function(l,m){var n=i.getReactRootID(j);k.instanceByReactRootId[n]=l;k.containersByReactRootId[n]=m;j++;l.genMarkupIntoContainer(n,m);},destroyAndReleaseReactRootNode:function(l){var m=k.getInstanceHeldByContainer(l),n=l.firstChild&&l.firstChild.id;m.destroy();delete k.instanceByReactRootId[n];delete k.containersByReactRootId[n];l.innerHTML='';},getInstanceHeldByContainer:function(l){var m=k.instanceByReactRootId[l.firstChild&&l.firstChild.id];return m;},findReactContainerForId:function(l){return k.containersByReactRootId[i.getReactRootIDFromNodeID(l)];},renderOrUpdateComponent:function(l,m){var n=k.getInstanceHeldByContainer(m);if(n){var o=n.updateAllProps.bind(n,l.props);k.scrollMonitor(m,o);return n;}else return k.renderComponent(l,m);}};e.exports=k;});
__d("ReactComponent",["ReactDOMTransaction","ReactErrors","ReactInstanceHandles","ReactMount","merge"],function(a,b,c,d,e,f){var g=b('ReactDOMTransaction'),h=b('ReactErrors'),i=b('ReactInstanceHandles'),j=b('ReactMount'),k=b('merge'),l={currentlyConstructingOwner:null,isValidComponent:function(m){return (m&&typeof m.genMarkupIntoContainer==='function'&&typeof m.updateAllProps==='function');},validateReactComponentInstance:function(m){h.throwIf(!l.isValidComponent(m),h.INVALID_COMPONENT);},ReactComponentMixin:{getDOMNode:function(){var m=this.rootDomNode;if(!m){m=document.getElementById(this._rootDomId);if(!m){var n=j.findReactContainerForId(this._rootDomId);m=i.findComponentRoot(n,this._rootDomId);}}return (this.rootDomNode=m);},captureOwnerAtConstruction:function(){var m=this.props;if(m.ref)m.owner=l.currentlyConstructingOwner;},attachOwnersRefsOnRender:function(){var m=this.props;if(m.ref)m.owner.attachRef(m.ref,this);},detachOwnersRefs:function(){var m=this.props;if(m.ref&&m.owner.refs[m.ref]===this)m.owner.detachRef(m.ref);},destroyComponent:function(){this.detachOwnersRefs();},detachFromDom:function(){var m=this.getDOMNode();m.parentNode.removeChild(m);},destroyAndDetachFromDom:function(){this.destroy();this.detachFromDom();},initializeComponent:function(m){this._rootDomId=m;this.attachOwnersRefsOnRender();},handleGenMarkup:function(){},handleUpdateAllProps:function(){},updateProps:function(m){this.updateAllProps(k(this.props,m));},updateAllProps:function(m){if(m.isStatic)return;g.perform(this.handleUpdateAllProps.bind(this,m));},genMarkupIntoContainer:function(m,n){g.perform(function(){var o=Date.now(),p=this.handleGenMarkup(m);j.totalInstantiationTime+=(Date.now()-o);var q=Date.now(),r=n.nextSibling,s=n.parentNode;if(s){s.removeChild(n);n.innerHTML=p;if(r){s.insertBefore(n,r);}else s.appendChild(n);}else n.innerHTML=p;j.totalInjectionTime+=(Date.now()-q);},this);},handleUpdateAllPropsComponent:function(m){var n=this.props,o=this.rootDomId;h.throwIf(o,h.CONTROL_WITHOUT_BACKING_DOM);if(m.owner===n.owner&&m.ref===n.ref)return;this.detachOwnersRefs();if(m.ref)m.owner.attachRef(m.ref,this);}}};e.exports=l;});
__d("ReactDOMAttributes",["ReactBrowserUtils","ReactEnv","ReactEvent","objMap"],function(a,b,c,d,e,f){var g=b('ReactBrowserUtils'),h=b('ReactEnv'),i=b('ReactEvent'),j=b('objMap'),k=function(s){return s;},l=g.getContentAccessorKey(),m=g.getSupportedStyleMap(),n=function(s){return s.replace(/[A-Z]/g,function(t){return '-'+t.toLowerCase();});},o=function(s,t,u){return j(u,function(v,w){return s+w(v)+t;});},p=j(m,function(){return n;}),q={className:function(){return 'class';},margin:n,marginRight:n,marginLeft:n,tabIndex:k,marginTop:n,marginBottom:n,padding:n,paddingRight:n,paddingLeft:n,paddingTop:n,paddingBottom:n,dir:k,width:k,height:k,alt:k,src:k,value:k,checked:k,href:k,placeholder:k,title:k,selected:k,target:k,scrollTop:k,scrollLeft:k,name:k,type:k,htmlFor:k,rel:k,ajaxify:k,allowfullscreen:k,allowscriptaccess:k,wmode:k},r={CONTENT_ACCESSOR_KEY:l,customAttrRegexp:/^(data|aria)-[a-z_][a-z\d_.\-]*$/,styleFeatureNames:o(';',':',p),allTagAttrPieces:o('','=\'',q),cssNumber:{textDecoration:true,zoom:true,fillOpacity:true,fontWeight:true,opacity:true,orphans:true,zIndex:true,outline:true},controlSimply:{className:true,scrollTop:true,scrollLeft:true,title:true,rows:true,cols:true,size:true},controlDirectlyNonIdempotent:{value:true,src:true,checked:true,selected:true,rel:true},controlUsingSetAttr:{ajaxify:true,margin:true,marginRight:true,marginLeft:true,marginTop:true,marginBottom:true,padding:true,paddingRight:true,paddingLeft:true,paddingTop:true,paddingBottom:true,width:true,height:true,href:true,placeholder:true,target:true}};e.exports=r;});
__d("ReactDOMUtils",["ReactBrowserUtils","ReactDOMAttributes"],function(a,b,c,d,e,f){var g=b('ReactBrowserUtils'),h=b('ReactDOMAttributes'),i=h.cssNumber,j=g.escapeTextForBrowser,k=h.styleFeatureNames;function l(s,t,u){if(u){if(u.nextSibling){return s.insertBefore(t,u.nextSibling);}else return s.appendChild(t);}else return s.insertBefore(t,s.firstChild);}function m(s,t,u){var v,w,x=t.length;for(w=0;w<x;w++)v=l(s,t[0],v||u);return v;}function n(s,t,u){if(!t)return 0;var v=document.createElement(s?s.tagName:'div');v.innerHTML=t;var w=v.childNodes,x=w.length,y=u?s.childNodes[u-1]:null;m(s,w,y);return x;}function o(s,t,u){var v=s.childNodes;if(t.parentNode)t.parentNode.removeChild(t);if(u>=v.length){s.appendChild(t);}else s.insertBefore(t,v[u]);return t;}function p(s,t){if(!isNaN(t))return i[s]?t:(j(t)+'px');return (t!==0&&!t)?'':t;}function q(s){var t='',u;for(u in s){if(!s.hasOwnProperty(u))continue;var v=s[u];if(v!==undefined)t+=k[u]+p(u,v);}return t;}var r={insertNodeAfterNode:l,insertNodeAt:o,insertMarkupAt:n,serializeInlineStyle:q};e.exports=r;});
__d("ReactDOMGeneration",["ReactBrowserUtils","ReactDOMAttributes","ReactDOMUtils","ReactEvent","ReactEventConstants","fallbackSerializePosInfo","keyOf","renderer-renderClassSet"],function(a,b,c,d,e,f){var g=b('ReactBrowserUtils'),h=b('ReactDOMAttributes'),i=b('ReactDOMUtils'),j=b('ReactEvent'),k=b('ReactEventConstants'),l=b('fallbackSerializePosInfo'),m=b('keyOf'),n=k.registrationTypes,o=h.allTagAttrPieces,p=h.customAttrRegexp,q=g.escapeTextForBrowser,r=l,s=j.registerListener,t=b('renderer-renderClassSet'),u=i.serializeInlineStyle,v=m({classSet:null}),w=m({style:null}),x=m({posInfo:null}),y={handleGenMarkupDOMGeneration:function(){var aa,ba=this.props,ca='',da='';for(aa in ba){if(!ba.hasOwnProperty(aa))continue;var ea=ba[aa];if(ea===null||typeof ea==='undefined')continue;if(aa===v){ca+='class="'+t(ea)+'"';}else if(o[aa]){ca+=o[aa]+q(ea)+"'";}else if(aa===w){da+=q(u(ea));}else if(aa===x){da+=q(r(ea));}else if(n[aa]){s(this._rootDomId,aa,ea);}else if(p.test(aa))ca+=aa+"='"+q(ea)+"'";}if(da)ca+=' style="'+da+'"';ca+=' id="'+this._rootDomId+'">';if(ba.content){ca+=q(ba.content);}else if(ba.dangerouslySetInnerHtml)ca+=ba.dangerouslySetInnerHtml.__html;return ca;}},z={ReactNativeComponentGenerationMixin:y,setAcceleratedPositioner:function(aa){r=aa;}};e.exports=z;});
__d("ReactDOMMutation",["ReactDOMAttributes","ReactDOMUtils","ReactEvent","ReactEventConstants","fallbackSerializePosInfo","keyOf","renderer-renderClassSet"],function(a,b,c,d,e,f){var g=b('ReactDOMAttributes'),h=b('ReactDOMUtils'),i=b('ReactEvent'),j=b('ReactEventConstants'),k=b('fallbackSerializePosInfo'),l=b('keyOf'),m=j.registrationTypes,n=g.controlDirectlyNonIdempotent,o=g.controlSimply,p=g.controlUsingSetAttr,q=g.customAttrRegexp,r=i.registerListener,s=b('renderer-renderClassSet'),t=h.serializeInlineStyle,u=k,v=l({classSet:null}),w=g.CONTENT_ACCESSOR_KEY,x=l({content:null}),y=l({dangerouslySetInnerHtml:null}),z=l({posInfo:null}),aa=l({style:null}),ba=function(ea){u=ea;},ca={handleUpdateAllPropsDOMMutation:function(ea){var fa=this.props,ga='',ha='',ia='',ja;for(ja in ea){if(!ea.hasOwnProperty(ja))continue;var ka=ea[ja];if(ja===v){if(JSON.stringify(fa.classSet)!==JSON.stringify(ea.classSet))this.getDOMNode().className=s(ka);}else if(ja===aa){if(JSON.stringify(ka)!==JSON.stringify(fa.style))ha=t(ka);}else if(ja===z){var la=ka,ma=fa.posInfo||{};if(la&&(la.l!==ma.l||la.t!==ma.t||la.w!==ma.w||la.h!==ma.h||la.r!==ma.r||la.b!==ma.b))ia=u(ka);}else if(ka!==fa[ja])if(p[ja]){this.getDOMNode().setAttribute(ja,ka);}else if(ja===x){this.getDOMNode()[w]=ka;}else if(o[ja]){this.getDOMNode()[ja]=ka;}else if(n[ja]){var na=this.getDOMNode();if(na[ja]!==ka)na[ja]=ka;}else if(m[ja]){r(this._rootDomId,ja,ka);}else if(ja===y){var oa=fa[ja],pa=ka,qa=oa&&oa.__html,ra=pa&&pa.__html;if(qa!==ra)this.getDOMNode().innerHTML=(ra||'').replace(/^ /g,'&nbsp;');}else if(q.test(ja))this.getDOMNode().setAttribute(ja,ka);}if(ha&&!ia)ia=u(ea.posInfo);if(ia&&!ha)ha=t(ea.style);if(ha||ia){ga+=ha;ga+=ia;this.getDOMNode().style.cssText=ga;}}},da={setAcceleratedPositioner:ba,ReactNativeComponentMutationMixin:ca};e.exports=da;});
__d("ReactMultiChild",["ReactComponent","ReactDOMUtils"],function(a,b,c,d,e,f){var g=b('ReactComponent'),h=b('ReactDOMUtils'),i=h.insertNodeAt;function j(n,o){return n&&o&&n.constructor===o.constructor;}function k(n,o){return n&&!o||(n&&o&&n.constructor!==o.constructor);}var l={destroyMultiChild:function(){var n=this.renderedChildren,o;for(o in n){if(!n.hasOwnProperty(o))continue;if(n[o])n[o].destroy();}this.renderedChildren=null;},handleGenMarkupMultiChild:function(n){var o,p='',q=0;for(o in n){var r=n[o];if(r){r.domIndex=q;p+=n[o].handleGenMarkup(this._rootDomId+'.'+o);q++;}}this.renderedChildren=n;return p;},insertMarkupAt:function(n,o){return !n?0:h.insertMarkupAt(this.getDOMNode(),n,o);},enqueueMove:function(n,o,p){if(o===p)return n;if(!n)n={};var q=this.getDOMNode();n[p]=q.childNodes[o];return n;},handleUpdateAllPropsMultiChild:function(n){if(!n&&!this.renderedChildren){return;}else if(n&&!this.renderedChildren){this.renderedChildren={};}else if(!n&&this.renderedChildren)n={};var o,p=this._rootDomId+'.',q='',r=0,s=0,t=0,u;for(o in n){if(!n.hasOwnProperty(o))continue;var v=this.renderedChildren[o],w=n[o];if(j(v,w)){t+=this.insertMarkupAt(q,s);q='';var x=w.props.isStatic;if(!x)v.handleUpdateAllProps(w.props);var y=v.domIndex+t;u=this.enqueueMove(u,y,r);v.domIndex=r;r++;s=r;}else{if(v){this.removeChildByName(o,v);t--;}if(w){this.renderedChildren[o]=w;q+=w.handleGenMarkup(p+o);w.domIndex=r;r++;}}}t+=this.insertMarkupAt(q,s);for(o in this.renderedChildren){if(!this.renderedChildren.hasOwnProperty(o))continue;var z=this.renderedChildren[o];if(k(z,n[o]))this.removeChildByName(o,z);}if(u){var aa,ba=this.getDOMNode();for(aa in u){if(!u.hasOwnProperty(aa))continue;i(ba,u[aa],aa);}}},removeChildByName:function(n,o){if(g.isValidComponent(o))o.destroyAndDetachFromDom();delete this.renderedChildren[n];}},m={ReactMultiChildMixin:l};e.exports=m;});
__d("mixInto",[],function(a,b,c,d,e,f){var g=function(h,i){var j;for(j in i){if(!i.hasOwnProperty(j))continue;h.prototype[j]=i[j];}};e.exports=g;});
__d("ReactTextComponent",["ReactBrowserUtils","ReactDOMAttributes","ReactComponent","mixInto"],function(a,b,c,d,e,f){var g=b('ReactBrowserUtils'),h=b('ReactDOMAttributes'),i=b('ReactComponent'),j=g.escapeTextForBrowser,k=b('mixInto'),l=h.CONTENT_ACCESSOR_KEY,m=function(n){this.props=n;};k(m,i.ReactComponentMixin);m.prototype.handleUpdateAllProps=function(n){if(n!==this.props){this.getDOMNode()[l]=n;this.props=n;}};m.prototype.destroy=function(){};m.prototype.handleGenMarkup=function(n){this._rootDomId=n;return ('<span id="'+n+'">'+j(this.props)+'</span>');};e.exports=m;});
__d("flattenChildren",["ReactTextComponent"],function(a,b,c,d,e,f){var g=b('ReactTextComponent'),h=function(j,k,l){var m,n;if(Array.isArray(k)){for(m=0;m<k.length;m++)h(j,k[m],l+'['+m+']');}else if(!k&&k!==0){j[l]=null;}else if(k.genMarkupIntoContainer){j[l]=k;}else{var o=typeof k;if(o==='string'||o==='number'){j[l]=new g(k);}else if(o==='object')for(n in k)if(k.hasOwnProperty(n))h(j,k[n],l+'{'+n+'}');}};function i(j){if(j===null||j===undefined)return j;var k={};h(k,j,'');return k;}e.exports=i;});
__d("ReactDOM",["ReactComponent","ReactDOMGeneration","ReactDOMMutation","ReactErrors","ReactEvent","ReactMultiChild","flattenChildren","mixInto","objMap","throwIf"],function(a,b,c,d,e,f){var g=b('ReactComponent'),h=b('ReactDOMGeneration'),i=b('ReactDOMMutation'),j=b('ReactErrors'),k=b('ReactEvent'),l=b('ReactMultiChild'),m=h.ReactNativeComponentGenerationMixin,n=i.ReactNativeComponentMutationMixin,o=b('flattenChildren'),p=b('mixInto'),q=b('objMap'),r=b('throwIf');function s(u,v){var w='<'+u+' ',x=v?'':'</'+u+'>',y=function(ba){this.props=ba;this.captureOwnerAtConstruction();},z={handleUpdateAllProps:function(ba){j.throwIf(!this._rootDomId,j.CONTROL_WITHOUT_BACKING_DOM);this.handleUpdateAllPropsComponent(ba);this.handleUpdateAllPropsDOMMutation(ba);this.handleUpdateAllPropsMultiChild(o(ba.children));this.props=ba;},handleGenMarkup:function(ba){this.initializeComponent(ba);var ca=w+this.handleGenMarkupDOMGeneration()+this.handleGenMarkupMultiChild(o(this.props.children))+x;return ca;},destroy:function(){this.destroyComponent();this.destroyMultiChild();k.clearAllRegistrations(this._rootDomId);}};p(y,g.ReactComponentMixin);p(y,z);p(y,m);p(y,n);p(y,l.ReactMultiChildMixin);y.prototype.tagName=u.toUpperCase();var aa=function(ba){return new y(ba);};return aa;}var t=q({a:false,abbr:false,address:false,audio:false,b:false,br:true,button:false,code:false,col:true,colgroup:false,dd:false,div:false,dl:false,dt:false,em:false,embed:true,fieldset:false,form:false,h1:false,h2:false,h3:false,h4:false,h5:false,h6:false,hr:true,i:false,iframe:false,img:true,input:false,label:false,legend:false,li:false,object:false,ol:false,optgroup:false,option:false,p:false,param:true,pre:false,select:false,small:false,span:false,strong:false,table:false,tbody:false,td:false,textarea:false,tfoot:false,th:false,thead:false,time:false,title:false,tr:false,ul:false,video:false,wbr:false},s);e.exports=t;});
__d("ReactOwner",[],function(a,b,c,d,e,f){var g={attachRef:function(h,i){var j=this.refs||(this.refs={});j[h]=i;},detachRef:function(h){delete this.refs[h];}};e.exports=g;});
__d("mergeDeepInto",["mergeHelpers"],function(a,b,c,d,e,f){var g=b('mergeHelpers'),h=g.checkMergeArgs,i=g.checkMergeLevel,j=g.isTerminal,k=g.normalizeMergeArg,l=function(n,o,p){h(n,o);i(p);var q,r,s,t=p+1;for(s in o){if(!o.hasOwnProperty(s))continue;q=n[s];r=o[s];if(j(r)){n[s]=r;}else if(j(q)){n[s]={};l(n[s],o[s],t);}else l(n[s],o[s],t);}},m=function(n,o){var p=k(o);l(n,p,0);};e.exports=m;});
__d("mergeInto",["mergeHelpers"],function(a,b,c,d,e,f){var g=b('mergeHelpers'),h=g.checkMergeArgs,i=g.normalizeMergeArg,j=function(k,l){var m=i(l),n;h(k,m);for(n in m){if(!m.hasOwnProperty(n))continue;k[n]=m[n];}};e.exports=j;});
__d("ReactCompositeComponent",["ReactComponent","ReactDOMTransaction","ReactDOMUtils","ReactErrors","ReactOnDOMReady","ReactOwner","keyOf","mergeDeepInto","mergeInto","mergeHelpers","mixInto"],function(a,b,c,d,e,f){var g=b('ReactComponent'),h=b('ReactDOMTransaction'),i=b('ReactDOMUtils'),j=b('ReactErrors'),k=b('ReactOnDOMReady'),l=b('ReactOwner'),m=b('keyOf'),n=b('mergeDeepInto'),o=b('mergeInto'),p=b('mergeHelpers'),q=b('mixInto'),r=i.insertMarkupAt,s=p.isTerminal,t=Array.prototype.slice,u={render:function(){},handleUpdateAllProps:function(w){this.handleUpdateAllPropsComponent(w);if(this.propTrigger){var x=this.propTrigger(w);if(x)o(this.state,x);}if(this.needsRedraw&&!this.needsRedraw(w))return;this.props=w;this.reconcileStructure();},initializeCompositeComponent:function(w){if(this.getInitialState)this.state=this.getInitialState();this.onDomReady&&k.enqueue(this);},handleGenMarkup:function(w){this.initializeComponent(w);this.initializeCompositeComponent(w);g.currentlyConstructingOwner=this;var x=this.render();g.currentlyConstructingOwner=null;g.validateReactComponentInstance(x);this.renderedChild=x;return x.handleGenMarkup(w);},destroy:function(){if(this.destructor)this.destructor();this.detachOwnersRefs();this.renderedChild.destroy();this.renderedChild=null;if(this.refs)this.refs=null;},justUpdateState:function(w){h.perform(function(){o(this.state,w);},this);},justUpdateStateDeep:function(w){h.perform(function(){n(this.state,w);},this);},updateState:function(w){h.perform(function(){o(this.state,w);this.reconcileStructure();},this);return true;},updateStateDeep:function(w){h.perform(function(){n(this.state,w);this.reconcileStructure();},this);return true;},createStateUpdater:function(w){var x=this;if(!w)return w;return function(){x.updateState(w);};},stateUpdater:function(w){var x=this;if(!w)return w;return (typeof w==='function')?function(){x.updateState(w.apply(x,arguments));}:function(){x.updateState(w);};},stateValueForwarder:function(w){var x=this;return function(y){var z=m(w),aa={};if(z){aa[z]=y;x.updateState(aa);}};},stateUpdaterCurry:function(w){var x=this,y=t.call(arguments,1);return function(){x.updateState(w.apply(x,y.concat(t.call(arguments))));};},reconcileStructure:function(){g.currentlyConstructingOwner=this;var w=this.render();g.currentlyConstructingOwner=null;g.validateReactComponentInstance(w);if(!w.props.isStatic){var x=this.renderedChild;if(x.constructor===w.constructor){x.handleUpdateAllProps(w.props);}else{var y=w.handleGenMarkup(this._rootDomId),z=x.getDOMNode(),aa=z.parentNode;x.destroyAndDetachFromDom();r(aa,y,0);this.renderedChild=w;}}}},v={createComponentConstructor:function(w){var x=function(y){this.props=y||{};this.captureOwnerAtConstruction();};q(x,g.ReactComponentMixin);q(x,u);q(x,l);q(x,w);j.throwIf(!x.prototype.render,j.CLASS_SPEC);return x;},createComponent:function(w){var x=v.createComponentConstructor(w),y=function(z){var aa=z||this;return new x(aa);};y.componentConstructor=x;y.originalSpec=w;return y;}};e.exports=v;});
__d("React",["ReactCompositeComponent","ReactMount"],function(a,b,c,d,e,f){var g=b('ReactCompositeComponent'),h=b('ReactMount'),i={initializeTouchEvents:function(j){h.useTouchEvents=j;},createComponent:g.createComponent,constructAndRenderComponent:h.constructAndRenderComponent,renderComponent:h.renderComponent,renderOrUpdateComponent:h.renderOrUpdateComponent,destroyAndReleaseReactRootNode:h.destroyAndReleaseReactRootNode};e.exports=i;});
__d("bindNoArgs",[],function(a,b,c,d,e,f){var g=function(h,i){if(!h)return null;return function(){return h.call(i);};};e.exports=g;});
__d("curryOnly",[],function(a,b,c,d,e,f){var g=function(h,i,j){if(!h)return null;return function(){return h.call(j,i);};};e.exports=g;});
__d("reactKeys",[],function(a,b,c,d,e,f){var g=function(h){var i=[],j;for(j in h)if(h.hasOwnProperty(j))i.push(j);return i;};e.exports=g;});
__d("mergeDeep",["mergeHelpers"],function(a,b,c,d,e,f){var g=b('mergeHelpers'),h=g.checkMergeArgs,i=g.checkMergeLevel,j=g.isTerminal,k=g.normalizeMergeArg,l=function(n,o,p){h(n,o);i(p);var q,r,s,t,u={},v=p+1;for(q in n){if(!n.hasOwnProperty(q))continue;if(!o.hasOwnProperty(q)){s=n[q];u[q]=j(s)?s:l(s,s,v);}}for(r in o){if(!o.hasOwnProperty(r))continue;t=o[r];s=n[r];u[r]=j(t)?t:j(s)?l(t,t,v):l(s,t,v);}return u;},m=function(n,o){var p=k(n),q=k(o);h(p,q);return l(p,q,0);};e.exports=m;});
__d("ReactUtils",["bindNoArgs","curryOnly","keyMirror","keyOf","reactKeys","merge","mergeDeep","mergeDeepInto","mergeHelpers","mergeInto","mixInto","objMap"],function(a,b,c,d,e,f){var g=b('bindNoArgs'),h=b('curryOnly'),i=b('keyMirror'),j=b('keyOf'),k=b('reactKeys'),l=b('merge'),m=b('mergeDeep'),n=b('mergeDeepInto'),o=b('mergeHelpers'),p=b('mergeInto'),q=b('mixInto'),r=b('objMap');f.bindNoArgs=g;f.curryOnly=h;f.keyMirror=i;f.keyOf=j;f.keys=k;f.merge=l;f.mergeDeep=m;f.mergeInto=p;f.mixInto=q;f.objMap=r;});
__d("Link",["ReactDOM","React","UntrustedLink","$","mergeInto"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('UntrustedLink'),j=b('$'),k=b('mergeInto'),l=h.createComponent({_installLinkshimOnMouseDown:function(event){var m=this.props.href;if(m.shimhash)i.bootstrap(j(this._rootDomId),m.shimhash);this.props.onMouseDown&&this.props.onMouseDown(event);},render:function(){var m=this.props.href,n=g.a({});k(n.props,this.props);if(m){n.props.href=m.url;if(!n.props.target)n.props.target='_blank';var o=!!m.shimhash;if(o){n.props.rel=n.props.rel?(n.props.rel+' nofollow'):'nofollow';n.props.onMouseDown=this._installLinkshimOnMouseDown.bind(this);}}return n;}});e.exports=l;});
__d("AsyncDOM",["CSS","DOM"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i={invoke:function(j,k){for(var l=0;l<j.length;++l){var m=j[l],n=m[0],o=m[1],p=m[2],q=m[3],r=(p&&k)||null;if(o)r=h.scry(r||document.documentElement,o)[0];switch(n){case 'eval':(new Function(q)).apply(r);break;case 'hide':g.hide(r);break;case 'show':g.show(r);break;case 'setContent':h.setContent(r,q);break;case 'appendContent':h.appendContent(r,q);break;case 'prependContent':h.prependContent(r,q);break;case 'insertAfter':h.insertAfter(r,q);break;case 'insertBefore':h.insertBefore(r,q);break;case 'remove':h.remove(r);break;case 'replace':h.replace(r,q);break;default:}}}};e.exports=i;});
__d("Live",["Arbiter","AsyncDOM","AsyncSignal","ChannelConstants","DataStore","DOM","ServerJS","createArrayFrom","emptyFunction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncDOM'),i=b('AsyncSignal'),j=b('ChannelConstants'),k=b('DataStore'),l=b('DOM'),m=b('ServerJS'),n=b('createArrayFrom'),o=b('emptyFunction');function p(r,s){s=JSON.parse(JSON.stringify(s));new m().setRelativeTo(r).handle(s);}var q={logAll:false,startup:function(){q.startup=o;g.subscribe(j.getArbiterType('live'),q.handleMessage.bind(q));},lookupLiveNode:function(r,s){var t=l.scry(document.body,'.live_'+r+'_'+s);t.forEach(function(u){if(k.get(u,'seqnum')===undefined){var v=JSON.parse(u.getAttribute('data-live'));k.set(u,'seqnum',v.seq);}});return t;},handleMessage:function(r,s){var t=s.obj,u=t.fbid,v=t.assoc,w=this.lookupLiveNode(u,v);if(!w)return false;w.forEach(function(x){if(t.expseq){var y=k.get(x,'seqnum'),z=k.get(x,'message_buffer');if(z===undefined){z={};k.set(x,'message_buffer',z);}var aa={obj:t};z[t.expseq]=aa;if(t.expseq!=y){q.log('mismatch',t.fbid,t.expseq,y);return false;}while(true){y=k.get(x,'seqnum');var ba=z[y];if(ba){h.invoke(ba.obj.updates,x);if(ba.obj.js)p(x,ba.obj.js);q.log('seqmatch',t.fbid,'exp',t.expseq,'cur',y);delete z[y];}else break;}}else{h.invoke(t.updates,x);if(t.js)p(x,t.js);}});},log:function(){if(q.logAll){var r=n(arguments).join(':');new i('/common/scribe_endpoint.php',{c:'live_sequence',m:r}).send();}}};e.exports=q;});
__d("legacy:live-js",["Live"],function(a,b,c,d){a.Live=b('Live');},3);